{"version":3,"sources":["webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/containers/entity/entity-form.component.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/containers/entity/entity.component.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/containers/entity/entity.service.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/containers/entity/entity.model.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/index.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/node_modules/@angular/material/esm2015/datepicker.js.pre-build-optimizer.js","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/shared-material-date.module.ts","webpack:////Developer/Work/SPA/ngx-starter-kit/libs/shared/src/lib/shared-material-date.module.ts.pre-build-optimizer.js","webpack:////Developer/Work/SPA/ngx-starter-kit/node_modules/rxjs/_esm2015/internal/operators/retry.js.pre-build-optimizer.js"],"names":["EntityFormComponent","[object Object]","data","dialogRef","this","title","entity","payload","buildForm","close","entityForm","value","entity_component_EntitiesComponent","entityService","dataSource","table","selection","collections","showToolbar","showColumnFilter","showActionColumn","maxSelectable","actionColumn","selectColumn","loading$","update","subscribe","filterPredicate","changed","pipe","Object","operators_filter","sc","added","length","_","selected","src","deselect","shift","sort","paginator","id","getById","item","delete","concatMap","put","post","getAll","getData","map","result","filteredData","every","isSelected","hasValue","isAllFilteredRowsSelected","isMasterToggleChecked","clear","forEach","select","filterValue","trim","toLowerCase","filter","displayedColumns","_displayedColumns","columns","column","visible","x","property","unshift","concat","toggle","showDetails","undefined","outlet","activatedRouteData","event","stopPropagation","stopImmediatePropagation","date","s","String","isString","parseISO","entity_service_EntityService","httpClient","baseUrl","environment","API_BASE_URL","loadingSubject","BehaviorSubject","asObservable","get","entityPath","catchError","handleError","order","skip","take","next","params","http","set","toString","retry","finalize","console","log","error","ErrorEvent","message","status","throwError","body","temporalFunctionToJson","Date","prototype","toJSON","format","jsonBody","JSON","stringify","Entity","init","assign","EntityColumnDef","header","displayFn","__webpack_require__","d","__webpack_exports__","MatDatepickerModule","MatCalendarHeader","MatCalendar","MatCalendarBody","MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY","MAT_DATEPICKER_SCROLL_STRATEGY","MatDatepickerContent","MatDatepicker","MatDatepickerInput","MatDatepickerIntl","MatDatepickerToggle","MatMonthView","MatYearView","MatMultiYearView","_angular_core__WEBPACK_IMPORTED_MODULE_0__","rxjs__WEBPACK_IMPORTED_MODULE_1__","rxjs__WEBPACK_IMPORTED_MODULE_2__","rxjs__WEBPACK_IMPORTED_MODULE_3__","rxjs__WEBPACK_IMPORTED_MODULE_4__","rxjs_operators__WEBPACK_IMPORTED_MODULE_5__","rxjs_operators__WEBPACK_IMPORTED_MODULE_6__","_angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_7__","_angular_material_core__WEBPACK_IMPORTED_MODULE_8__","_angular_cdk_portal__WEBPACK_IMPORTED_MODULE_9__","_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_11__","_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_12__","_angular_forms__WEBPACK_IMPORTED_MODULE_13__","createMissingDateImplError","provider","Error","changes","calendarLabel","openCalendarLabel","prevMonthLabel","nextMonthLabel","prevYearLabel","nextYearLabel","prevMultiYearLabel","nextMultiYearLabel","switchToMonthViewLabel","switchToMultiYearViewLabel","ngInjectableDef","factory","token","providedIn","MatCalendarCell","displayValue","ariaLabel","enabled","cssClasses","_elementRef","_ngZone","numCols","activeCell","cellAspectRatio","selectedValueChange","cell","emit","columnChanges","rows","_firstRowOffset","_cellPadding","_cellWidth","rowIndex","colIndex","cellNumber","runOutsideAngular","onStable","nativeElement","querySelector","focus","DAYS_PER_WEEK","_changeDetectorRef","_dateFormats","_dateAdapter","_dir","selectedChange","_userSelection","activeDateChange","firstDayOfWeek","getFirstDayOfWeek","narrowWeekdays","getDayOfWeekNames","weekdays","long","i","narrow","_weekdays","slice","_activeDate","today","activeDate","oldActiveDate","validDate","_getValidDateOrNull","deserialize","clampDate","minDate","maxDate","_hasSameMonthAndYear","_init","_selected","_selectedDate","_getDateInCurrentMonth","_minDate","_maxDate","selectedYear","getYear","selectedMonth","getMonth","selectedDate","createDate","isRtl","_isRtl","keyCode","addCalendarDays","getDate","getNumDaysInMonth","altKey","addCalendarYears","addCalendarMonths","dateFilter","_dateSelected","preventDefault","compareDate","_focusActiveCell","_todayDate","_monthLabel","getMonthNames","toLocaleUpperCase","firstOfMonth","_firstWeekOffset","getDayOfWeek","_createWeekCells","markForCheck","_matCalendarBody","daysInMonth","dateNames","getDateNames","_weeks","push","_shouldEnableDate","display","dateA11yLabel","cellClasses","dateClass","d1","d2","obj","isDateInstance","isValid","yearsPerPage","yearsPerRow","yearSelected","Math","floor","_selectedYear","_todayYear","activeYear","activeOffset","_years","row","year","_createCellForYear","month","min","_yearSelected","yearName","getYearName","_shouldEnableYear","monthSelected","_selectedMonth","_getMonthInCurrentYear","normalizedDate","_monthSelected","_todayMonth","_yearLabel","monthNames","_months","_createCellForMonth","monthName","monthYearA11yLabel","_shouldEnableMonth","_isYearAndMonthAfterMaxDate","_isYearAndMonthBeforeMinDate","maxYear","maxMonth","minYear","minMonth","_intl","calendar","changeDetectorRef","stateChanges","periodButtonText","currentView","monthYearLabel","periodButtonLabel","prevButtonLabel","multi-year","nextButtonLabel","_isSameView","date1","date2","_moveFocusOnNextTick","startView","_intlChanges","startAt","_startAt","_clampedActiveDate","_currentView","_calendarHeaderPortal","headerComponent","focusActiveCell","unsubscribe","complete","change","firstChange","view","_getCurrentViewComponent","detectChanges","monthView","yearView","multiYearView","ngAfterContentInit","sameDate","normalizedYear","normalizedMonth","datepickerUid","overlay","scrollStrategies","reposition","MatDatepickerContentBase","_MatDatepickerContentMixinBase","elementRef","super","_calendar","_dialog","_overlay","_viewContainerRef","scrollStrategy","_document","_touchUi","openedStream","closedStream","_opened","_validSelected","_focusedElementBeforeOpen","_inputSubscription","EMPTY","_disabledChange","_selectedChanged","_scrollStrategy","_datepickerInput","color","_color","_getThemePalette","touchUi","disabled","_disabled","newValue","opened","open","max","_dateFilter","_popupRef","dispose","_popupComponentRef","oldValue","input","_valueChange","activeElement","_openAsDialog","_openAsPopup","hasAttached","detach","_dialogRef","_calendarPortal","isAttached","completeClose","setTimeout","direction","viewContainerRef","panelClass","afterClosed","componentInstance","datepicker","_setColor","_createPopup","attach","instance","updatePosition","overlayConfig","positionStrategy","_createPopupPositionStrategy","hasBackdrop","backdropClass","create","overlayElement","setAttribute","backdropClick","detachments","keydownEvents","position","flexibleConnectedTo","getConnectedOverlayOrigin","withTransformOriginOn","withFlexibleDimensions","withViewportMargin","withLockedPosition","withPositions","originX","originY","overlayX","overlayY","MatDatepickerInputEvent","target","targetElement","_formField","dateChange","dateInput","_onTouched","_cvaOnChange","_validatorOnChange","_datepickerSubscription","_localeSubscription","_parseValidator","_lastValueValid","matDatepickerParse","text","_minValidator","control","controlValue","matDatepickerMin","actual","_maxValidator","matDatepickerMax","_filterValidator","matDatepickerFilter","_validator","compose","localeChanges","matDatepicker","_datepicker","_registerInput","_value","oldDate","_formatValue","_min","_max","element","blur","fn","c","isDisabled","readOnly","parse","defaultTabIndex","_stateChanges","parsedTabIndex","Number","tabIndex","_watchStateChanges","datepickerDisabled","inputDisabled","datepickerToggled","SharedMaterialDateModule","Éµ0","_Subscriber__WEBPACK_IMPORTED_MODULE_0__","count","source","lift","RetryOperator","subscriber","RetrySubscriber","destination","err","isStopped","_unsubscribeAndRecycle"],"mappings":"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","file":"11.031884536663939590f0.js","sourcesContent":["import { Inject, OnInit } from '@angular/core';\nimport { Entity } from './entity.model';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup } from '@angular/forms';\n\nexport abstract class EntityFormComponent<TEntity extends Entity> implements OnInit {\n  title: string;\n  entity: TEntity;\n  entityForm: FormGroup;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) protected data: { title: string; payload: TEntity },\n    protected dialogRef: MatDialogRef<EntityFormComponent<TEntity>>,\n  ) {\n    this.title = data.title;\n    this.entity = data.payload;\n  }\n\n  abstract buildForm(entity: TEntity);\n\n  ngOnInit() {\n    this.buildForm(this.entity);\n  }\n\n  submit() {\n    this.dialogRef.close(this.entityForm.value as Partial<TEntity>);\n  }\n}\n","import { AfterViewInit, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\n\nimport { EntityService } from './entity.service';\nimport { Entity, EntityColumnDef } from './entity.model';\nimport { concatMap, filter, map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { EntityFormComponent } from './entity-form.component';\nimport { ComponentType } from '@angular/cdk/portal/typings/portal';\nimport { SelectionChange, SelectionModel } from '@angular/cdk/collections';\nimport { untilDestroy } from '@ngx-starter-kit/ngx-utils';\nimport { parseISO } from 'date-fns/esm';\n\nexport abstract class EntitiesComponent<TEntity extends Entity, TService extends EntityService<TEntity>>\n  implements OnInit, OnDestroy, AfterViewInit {\n  dataSource = new MatTableDataSource<TEntity>([]);\n  selection = new SelectionModel<TEntity>(false, []);\n\n  @ViewChild(MatPaginator)\n  paginator: MatPaginator;\n  @ViewChild(MatSort)\n  sort: MatSort;\n  @ViewChild('filter')\n  filterRef: ElementRef;\n\n  readonly loading$;\n  readonly columns: Array<EntityColumnDef<TEntity>>;\n  readonly title?: string = null;\n  readonly showToolbar?: boolean = false;\n  readonly showColumnFilter?: boolean = false;\n  readonly showActionColumn?: boolean = false;\n  readonly maxSelectable?: number = 1;\n  readonly actionColumn?: string = 'Actions';\n  readonly selectColumn?: string = 'select';\n  // TODO: make them optional abstract\n  readonly formRef?: ComponentType<EntityFormComponent<TEntity>>;\n  getNewEntity?(): TEntity;\n  filterPredicate?(entity: TEntity, filter: string): boolean;\n  // TODO: make them optional abstract end\n\n  constructor(protected entityService: TService) {\n    this.loading$ = entityService.loading$;\n  }\n\n  ngOnInit() {\n    this.selection = new SelectionModel<TEntity>(this.maxSelectable > 1, []);\n\n    this.update().subscribe();\n    if (this.filterPredicate) {\n      this.dataSource.filterPredicate = this.filterPredicate;\n    }\n\n    // remove first selected entity if more then max selected.\n    if (this.maxSelectable > 1) {\n      // is multi select mode?\n      this.selection.changed\n        .pipe(\n          // tap(console.log),\n          filter((sc: SelectionChange<TEntity>) => sc.added.length > 0),\n          filter(_ => this.selection.selected.length > this.maxSelectable),\n          untilDestroy(this),\n        )\n        .subscribe(_ => this.selection.deselect(this.selection.selected.shift()));\n    }\n\n    // fromEvent(this.filterRef.nativeElement, 'keyup')\n    //   .pipe(\n    //     debounceTime(150),\n    //     distinctUntilChanged()\n    //   ).subscribe(() => {\n    //   this.paginator.pageIndex = 0;\n    //   this.applyFilter(this.filterRef.nativeElement.value)\n    // });\n  }\n\n  ngOnDestroy() {}\n\n  ngAfterViewInit() {\n    // Needs to be set up after the view is initialized since the data source will look at the sort\n    // and paginator's initial values to know what data should be rendered.\n    this.dataSource.sort = this.sort;\n    this.dataSource.paginator = this.paginator;\n  }\n\n  getById(id: number) {\n    return this.entityService.getById(id);\n  }\n\n  delete(item: TEntity) {\n    return this.entityService.delete(item.id).pipe(concatMap(_ => this.update()));\n  }\n\n  updateOrCreate(entity: TEntity, id: number) {\n    if (id) {\n      return this.entityService.put(id, entity).pipe(concatMap(_ => this.update()));\n    } else {\n      return this.entityService.post(entity).pipe(concatMap(_ => this.update()));\n    }\n  }\n\n  /**\n   * Overwrite this method, to get the data your way.\n   */\n  getData(): Observable<TEntity[]> {\n    return this.entityService.getAll();\n  }\n\n  protected update() {\n    return this.getData().pipe(\n      map(result => {\n        this.dataSource = new MatTableDataSource<TEntity>(result);\n        this.dataSource.sort = this.sort;\n        this.dataSource.paginator = this.paginator;\n        // return nothing as we don't need.\n        // return result\n      }),\n    );\n  }\n\n  /** Whether all filtered rows are selected. */\n  isAllFilteredRowsSelected() {\n    return this.dataSource.filteredData.every(data => this.selection.isSelected(data));\n  }\n\n  /** Whether the selection it totally matches the filtered rows. */\n  isMasterToggleChecked() {\n    return (\n      this.selection.hasValue() &&\n      this.isAllFilteredRowsSelected() &&\n      this.selection.selected.length >= this.dataSource.filteredData.length\n    );\n  }\n\n  /**\n   * Whether there is a selection that doesn't capture all the\n   * filtered rows there are no filtered rows displayed.\n   */\n  isMasterToggleIndeterminate() {\n    return this.selection.hasValue() && (!this.isAllFilteredRowsSelected() || !this.dataSource.filteredData.length);\n  }\n\n  /** Selects all filtered rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    if (this.isMasterToggleChecked()) {\n      this.selection.clear();\n    } else {\n      this.dataSource.filteredData.forEach(data => this.selection.select(data));\n    }\n  }\n\n  applyFilter(filterValue: string) {\n    filterValue = filterValue.trim(); // Remove whitespace\n    filterValue = filterValue.toLowerCase(); // MatTableDataSource defaults to lowercase matches\n    this.dataSource.filter = filterValue;\n  }\n\n  get displayedColumns(): string[] {\n    // prettier-ignore\n    let _displayedColumns = this.columns\n      .filter(column => column.visible)\n      .map(x => x.property);\n\n    if (this.maxSelectable > 0) {\n      _displayedColumns.unshift(this.selectColumn);\n    }\n    if (this.showActionColumn) {\n      _displayedColumns = _displayedColumns.concat(this.actionColumn);\n    }\n    return _displayedColumns;\n  }\n\n  selectRow(entity: TEntity) {\n    if (this.maxSelectable > 0) {\n      this.selection.toggle(entity);\n      if (this.selection.isSelected(entity)) {\n        this.showDetails(entity);\n      } else {\n        this.showDetails(undefined);\n      }\n    }\n  }\n\n  getRouteAnimation(outlet) {\n    return outlet.activatedRouteData['depth'] || 5;\n    // return outlet.isActivated ? outlet.activatedRoute : ''\n  }\n\n  /**\n   * will be called with entity or undefined\n   */\n  showDetails(entity: TEntity) {}\n\n  toggleColumnVisibility(column, event) {\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n    column.visible = !column.visible;\n  }\n\n  protected stringToDate(date: string | number | Date): number | Date {\n    const isString = s => typeof s === 'string' || s instanceof String;\n    return isString(date) ? parseISO(date) : date;\n  }\n}\n","import { HttpClient, HttpErrorResponse, HttpParams } from '@angular/common/http';\nimport { BehaviorSubject, Observable, throwError } from 'rxjs';\nimport { environment } from '@env/environment';\nimport { Entity } from './entity.model';\nimport { catchError, finalize, retry } from 'rxjs/operators';\nimport { format } from 'date-fns/esm';\nimport { IPagination } from './pagination';\n\nexport interface Filter {\n  [name: string]: string | string[];\n}\n\nexport abstract class EntityService<T extends Entity> {\n  protected readonly baseUrl = environment.API_BASE_URL;\n  protected loadingSubject = new BehaviorSubject<boolean>(false);\n  public loading$ = this.loadingSubject.asObservable();\n\n  protected abstract entityPath: string;\n\n  constructor(protected httpClient: HttpClient) {}\n\n  getById(id: number | string) {\n    // this.loadingSubject.next(true);\n    return this.httpClient.get<T>(`${this.baseUrl}/${this.entityPath}/${id}`).pipe(\n      catchError(this.handleError),\n      // finalize(() => this.loadingSubject.next(false))\n    );\n  }\n\n    // findAll(filter: Filter, order = 'DESC', skip = 0, take = 100): Observable<IPagination<T>> | Observable<never> {\n    findAll(filter: Filter, order = 'DESC', skip = 0, take = 100): Observable<T[]> | Observable<never> {\n    this.loadingSubject.next(true);\n    return this.httpClient\n      .get<T[]>(`${this.baseUrl}/${this.entityPath}`, {\n        params: new HttpParams()\n          .set('filter', 'filter TODO')\n          .set('order', order)\n          .set('skip', skip.toString())\n          .set('take', take.toString()),\n      })\n      .pipe(\n        retry(3), // retry a failed request up to 3 times\n        catchError(this.handleError),\n        finalize(() => this.loadingSubject.next(false)),\n      );\n  }\n\n  // getAll(): Observable<IPagination<T>> {\n  getAll(): Observable<T[]> {\n    this.loadingSubject.next(true);\n    return this.httpClient.get<T[]>(`${this.baseUrl}/${this.entityPath}`).pipe(\n      retry(3), // retry a failed request up to 3 times\n      catchError(this.handleError),\n      finalize(() => this.loadingSubject.next(false)),\n    );\n  }\n\n  delete(id: number | string) {\n    this.loadingSubject.next(true);\n    return this.httpClient.delete(`${this.baseUrl}/${this.entityPath}/${id}`).pipe(\n      catchError(this.handleError),\n      finalize(() => this.loadingSubject.next(false)),\n    );\n  }\n\n  post(entity: T) {\n    this.loadingSubject.next(true);\n    return this.httpClient.post(`${this.baseUrl}/${this.entityPath}`, entity).pipe(\n      catchError(this.handleError),\n      finalize(() => this.loadingSubject.next(false)),\n    );\n  }\n\n  put(id: number | string, entity: T) {\n    console.log(entity);\n    this.loadingSubject.next(true);\n    return this.httpClient.put(`${this.baseUrl}/${this.entityPath}/${id}`, entity).pipe(\n      catchError(this.handleError),\n      finalize(() => this.loadingSubject.next(false)),\n    );\n  }\n\n  protected handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      // A client-side or network error occurred. Handle it accordingly.\n      console.error('An error occurred:', error.error.message);\n    } else {\n      // The backend returned an unsuccessful response code.\n      // The response body may contain clues as to what went wrong,\n      console.error(`Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n    }\n    // return an ErrorObservable with a user-facing error message\n    return throwError('Something bad happened; please try again later.');\n  }\n\n  protected convertToJson(body: any) {\n    const temporalFunctionToJson = Date.prototype.toJSON;\n    Date.prototype.toJSON = function() {\n      return format(this, 'YYYY-MM-DD');\n    };\n\n    const jsonBody = JSON.stringify(body);\n\n    Date.prototype.toJSON = temporalFunctionToJson;\n    return jsonBody;\n  }\n}\n","import { TemplateRef } from '@angular/core';\n\nexport abstract class Entity {\n  abstract get id(): number | string;\n  [key: string]: any;\n  constructor(init?: Partial<Entity>) {\n    Object.assign(this, init);\n  }\n}\n\nexport class EntityColumnDef<T> {\n  readonly property: string;\n  readonly header = this.property;\n  public visible = true;\n  readonly sticky?: 'start' | 'end';\n  readonly template?: TemplateRef<any>;\n  readonly displayFn = (entity: T) => entity[this.property];\n\n  public constructor(init?: Partial<EntityColumnDef<T>>) {\n    Object.assign(this, init);\n  }\n}\n","export { SharedModule } from './lib/shared.module';\nexport { SharedFlexLayoutModule } from './lib/shared-flex-layout.module';\nexport { SharedPerfectScrollbarModule } from './lib/shared-perfect-scrollbar.module';\nexport { SharedMaterialDateModule } from './lib/shared-material-date.module';\n\nexport * from './lib/containers/entity/entity-form.component';\nexport * from './lib/containers/entity/entity.component';\nexport * from './lib/containers/entity/entity.service';\nexport * from './lib/containers/entity/entity.model';\nexport * from './lib/containers/entity/pagination';\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable, NgModule, ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, forwardRef, Inject, Input, Optional, Output, ViewChild, ViewEncapsulation, ElementRef, NgZone, InjectionToken, ViewContainerRef, Directive, Attribute, ContentChild, ÉµÉµdefineInjectable } from '@angular/core';\nimport { Subject, merge, Subscription, of } from 'rxjs';\nimport { take, filter } from 'rxjs/operators';\nimport { DOWN_ARROW, END, ENTER, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW, SPACE, ESCAPE } from '@angular/cdk/keycodes';\nimport { DateAdapter, MAT_DATE_FORMATS, mixinColor } from '@angular/material/core';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { ComponentPortal, PortalModule } from '@angular/cdk/portal';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Overlay, OverlayConfig, OverlayModule } from '@angular/cdk/overlay';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { MatDialog, MatDialogModule } from '@angular/material/dialog';\nimport { NG_VALIDATORS, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\nimport { MatFormField } from '@angular/material/form-field';\nimport { MAT_INPUT_VALUE_ACCESSOR } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { A11yModule } from '@angular/cdk/a11y';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * \\@docs-private\n * @param {?} provider\n * @return {?}\n */\nfunction createMissingDateImplError(provider) {\n    return Error(`MatDatepicker: No provider found for ${provider}. You must import one of the following ` +\n        `modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a ` +\n        `custom implementation.`);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Datepicker data that requires internationalization.\n */\nclass MatDatepickerIntl {\n    constructor() {\n        /**\n         * Stream that emits whenever the labels here are changed. Use this to notify\n         * components if the labels have changed after initialization.\n         */\n        this.changes = new Subject();\n        /**\n         * A label for the calendar popup (used by screen readers).\n         */\n        this.calendarLabel = 'Calendar';\n        /**\n         * A label for the button used to open the calendar popup (used by screen readers).\n         */\n        this.openCalendarLabel = 'Open calendar';\n        /**\n         * A label for the previous month button (used by screen readers).\n         */\n        this.prevMonthLabel = 'Previous month';\n        /**\n         * A label for the next month button (used by screen readers).\n         */\n        this.nextMonthLabel = 'Next month';\n        /**\n         * A label for the previous year button (used by screen readers).\n         */\n        this.prevYearLabel = 'Previous year';\n        /**\n         * A label for the next year button (used by screen readers).\n         */\n        this.nextYearLabel = 'Next year';\n        /**\n         * A label for the previous multi-year button (used by screen readers).\n         */\n        this.prevMultiYearLabel = 'Previous 20 years';\n        /**\n         * A label for the next multi-year button (used by screen readers).\n         */\n        this.nextMultiYearLabel = 'Next 20 years';\n        /**\n         * A label for the 'switch to month view' button (used by screen readers).\n         */\n        this.switchToMonthViewLabel = 'Choose date';\n        /**\n         * A label for the 'switch to year view' button (used by screen readers).\n         */\n        this.switchToMultiYearViewLabel = 'Choose month and year';\n    }\n}\nMatDatepickerIntl.decorators = [\n    { type: Injectable, args: [{ providedIn: 'root' },] },\n];\n/** @nocollapse */ MatDatepickerIntl.ngInjectableDef = ÉµÉµdefineInjectable({ factory: function MatDatepickerIntl_Factory() { return new MatDatepickerIntl(); }, token: MatDatepickerIntl, providedIn: \"root\" });\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An internal class that represents the data corresponding to a single calendar cell.\n * \\@docs-private\n */\nclass MatCalendarCell {\n    /**\n     * @param {?} value\n     * @param {?} displayValue\n     * @param {?} ariaLabel\n     * @param {?} enabled\n     * @param {?=} cssClasses\n     */\n    constructor(value, displayValue, ariaLabel, enabled, cssClasses) {\n        this.value = value;\n        this.displayValue = displayValue;\n        this.ariaLabel = ariaLabel;\n        this.enabled = enabled;\n        this.cssClasses = cssClasses;\n    }\n}\n/**\n * An internal component used to display calendar data in a table.\n * \\@docs-private\n */\nclass MatCalendarBody {\n    /**\n     * @param {?} _elementRef\n     * @param {?} _ngZone\n     */\n    constructor(_elementRef, _ngZone) {\n        this._elementRef = _elementRef;\n        this._ngZone = _ngZone;\n        /**\n         * The number of columns in the table.\n         */\n        this.numCols = 7;\n        /**\n         * The cell number of the active cell in the table.\n         */\n        this.activeCell = 0;\n        /**\n         * The aspect ratio (width / height) to use for the cells in the table. This aspect ratio will be\n         * maintained even as the table resizes.\n         */\n        this.cellAspectRatio = 1;\n        /**\n         * Emits when a new value is selected.\n         */\n        this.selectedValueChange = new EventEmitter();\n    }\n    /**\n     * @param {?} cell\n     * @return {?}\n     */\n    _cellClicked(cell) {\n        if (cell.enabled) {\n            this.selectedValueChange.emit(cell.value);\n        }\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        /** @type {?} */\n        const columnChanges = changes['numCols'];\n        const { rows, numCols } = this;\n        if (changes['rows'] || columnChanges) {\n            this._firstRowOffset = rows && rows.length && rows[0].length ? numCols - rows[0].length : 0;\n        }\n        if (changes['cellAspectRatio'] || columnChanges || !this._cellPadding) {\n            this._cellPadding = `${50 * this.cellAspectRatio / numCols}%`;\n        }\n        if (columnChanges || !this._cellWidth) {\n            this._cellWidth = `${100 / numCols}%`;\n        }\n    }\n    /**\n     * @param {?} rowIndex\n     * @param {?} colIndex\n     * @return {?}\n     */\n    _isActiveCell(rowIndex, colIndex) {\n        /** @type {?} */\n        let cellNumber = rowIndex * this.numCols + colIndex;\n        // Account for the fact that the first row may not have as many cells.\n        if (rowIndex) {\n            cellNumber -= this._firstRowOffset;\n        }\n        return cellNumber == this.activeCell;\n    }\n    /**\n     * Focuses the active cell after the microtask queue is empty.\n     * @return {?}\n     */\n    _focusActiveCell() {\n        this._ngZone.runOutsideAngular((/**\n         * @return {?}\n         */\n        () => {\n            this._ngZone.onStable.asObservable().pipe(take(1)).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                /** @type {?} */\n                const activeCell = this._elementRef.nativeElement.querySelector('.mat-calendar-body-active');\n                if (activeCell) {\n                    activeCell.focus();\n                }\n            }));\n        }));\n    }\n}\nMatCalendarBody.decorators = [\n    { type: Component, args: [{selector: '[mat-calendar-body]',\n                template: \"<tr *ngIf=\\\"_firstRowOffset < labelMinRequiredCells\\\" aria-hidden=\\\"true\\\"><td class=\\\"mat-calendar-body-label\\\" [attr.colspan]=\\\"numCols\\\" [style.paddingTop]=\\\"_cellPadding\\\" [style.paddingBottom]=\\\"_cellPadding\\\">{{label}}</td></tr><tr *ngFor=\\\"let row of rows; let rowIndex = index\\\" role=\\\"row\\\"><td *ngIf=\\\"rowIndex === 0 && _firstRowOffset\\\" aria-hidden=\\\"true\\\" class=\\\"mat-calendar-body-label\\\" [attr.colspan]=\\\"_firstRowOffset\\\" [style.paddingTop]=\\\"_cellPadding\\\" [style.paddingBottom]=\\\"_cellPadding\\\">{{_firstRowOffset >= labelMinRequiredCells ? label : ''}}</td><td *ngFor=\\\"let item of row; let colIndex = index\\\" role=\\\"gridcell\\\" class=\\\"mat-calendar-body-cell\\\" [ngClass]=\\\"item.cssClasses\\\" [tabindex]=\\\"_isActiveCell(rowIndex, colIndex) ? 0 : -1\\\" [class.mat-calendar-body-disabled]=\\\"!item.enabled\\\" [class.mat-calendar-body-active]=\\\"_isActiveCell(rowIndex, colIndex)\\\" [attr.aria-label]=\\\"item.ariaLabel\\\" [attr.aria-disabled]=\\\"!item.enabled || null\\\" [attr.aria-selected]=\\\"selectedValue === item.value\\\" (click)=\\\"_cellClicked(item)\\\" [style.width]=\\\"_cellWidth\\\" [style.paddingTop]=\\\"_cellPadding\\\" [style.paddingBottom]=\\\"_cellPadding\\\"><div class=\\\"mat-calendar-body-cell-content\\\" [class.mat-calendar-body-selected]=\\\"selectedValue === item.value\\\" [class.mat-calendar-body-today]=\\\"todayValue === item.value\\\">{{item.displayValue}}</div></td></tr>\",\n                styles: [\".mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.71429%;padding-right:4.71429%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:0;cursor:pointer}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{position:absolute;top:5%;left:5%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}@media (-ms-high-contrast:active){.mat-calendar-body-cell-content{border:none}}@media (-ms-high-contrast:active){.mat-calendar-body-selected,.mat-datepicker-popup:not(:empty){outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}}[dir=rtl] .mat-calendar-body-label{text-align:right}\"],\n                host: {\n                    'class': 'mat-calendar-body',\n                    'role': 'grid',\n                    'aria-readonly': 'true'\n                },\n                exportAs: 'matCalendarBody',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n            },] },\n];\n/** @nocollapse */\nMatCalendarBody.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone }\n];\nMatCalendarBody.propDecorators = {\n    label: [{ type: Input }],\n    rows: [{ type: Input }],\n    todayValue: [{ type: Input }],\n    selectedValue: [{ type: Input }],\n    labelMinRequiredCells: [{ type: Input }],\n    numCols: [{ type: Input }],\n    activeCell: [{ type: Input }],\n    cellAspectRatio: [{ type: Input }],\n    selectedValueChange: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DAYS_PER_WEEK = 7;\n/**\n * An internal component used to display a single month in the datepicker.\n * \\@docs-private\n * @template D\n */\nclass MatMonthView {\n    /**\n     * @param {?} _changeDetectorRef\n     * @param {?} _dateFormats\n     * @param {?} _dateAdapter\n     * @param {?=} _dir\n     */\n    constructor(_changeDetectorRef, _dateFormats, _dateAdapter, _dir) {\n        this._changeDetectorRef = _changeDetectorRef;\n        this._dateFormats = _dateFormats;\n        this._dateAdapter = _dateAdapter;\n        this._dir = _dir;\n        /**\n         * Emits when a new date is selected.\n         */\n        this.selectedChange = new EventEmitter();\n        /**\n         * Emits when any date is selected.\n         */\n        this._userSelection = new EventEmitter();\n        /**\n         * Emits when any date is activated.\n         */\n        this.activeDateChange = new EventEmitter();\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n            throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n        /** @type {?} */\n        const firstDayOfWeek = this._dateAdapter.getFirstDayOfWeek();\n        /** @type {?} */\n        const narrowWeekdays = this._dateAdapter.getDayOfWeekNames('narrow');\n        /** @type {?} */\n        const longWeekdays = this._dateAdapter.getDayOfWeekNames('long');\n        // Rotate the labels for days of the week based on the configured first day of the week.\n        /** @type {?} */\n        let weekdays = longWeekdays.map((/**\n         * @param {?} long\n         * @param {?} i\n         * @return {?}\n         */\n        (long, i) => {\n            return { long, narrow: narrowWeekdays[i] };\n        }));\n        this._weekdays = weekdays.slice(firstDayOfWeek).concat(weekdays.slice(0, firstDayOfWeek));\n        this._activeDate = this._dateAdapter.today();\n    }\n    /**\n     * The date to display in this month view (everything other than the month and year is ignored).\n     * @return {?}\n     */\n    get activeDate() { return this._activeDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set activeDate(value) {\n        /** @type {?} */\n        const oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const validDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n        this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n        if (!this._hasSameMonthAndYear(oldActiveDate, this._activeDate)) {\n            this._init();\n        }\n    }\n    /**\n     * The currently selected date.\n     * @return {?}\n     */\n    get selected() { return this._selected; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set selected(value) {\n        this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n        this._selectedDate = this._getDateInCurrentMonth(this._selected);\n    }\n    /**\n     * The minimum selectable date.\n     * @return {?}\n     */\n    get minDate() { return this._minDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set minDate(value) {\n        this._minDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The maximum selectable date.\n     * @return {?}\n     */\n    get maxDate() { return this._maxDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set maxDate(value) {\n        this._maxDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._init();\n    }\n    /**\n     * Handles when a new date is selected.\n     * @param {?} date\n     * @return {?}\n     */\n    _dateSelected(date) {\n        if (this._selectedDate != date) {\n            /** @type {?} */\n            const selectedYear = this._dateAdapter.getYear(this.activeDate);\n            /** @type {?} */\n            const selectedMonth = this._dateAdapter.getMonth(this.activeDate);\n            /** @type {?} */\n            const selectedDate = this._dateAdapter.createDate(selectedYear, selectedMonth, date);\n            this.selectedChange.emit(selectedDate);\n        }\n        this._userSelection.emit();\n    }\n    /**\n     * Handles keydown events on the calendar body when calendar is in month view.\n     * @param {?} event\n     * @return {?}\n     */\n    _handleCalendarBodyKeydown(event) {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        /** @type {?} */\n        const oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const isRtl = this._isRtl();\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, -7);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 7);\n                break;\n            case HOME:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, 1 - this._dateAdapter.getDate(this._activeDate));\n                break;\n            case END:\n                this.activeDate = this._dateAdapter.addCalendarDays(this._activeDate, (this._dateAdapter.getNumDaysInMonth(this._activeDate) -\n                    this._dateAdapter.getDate(this._activeDate)));\n                break;\n            case PAGE_UP:\n                this.activeDate = event.altKey ?\n                    this._dateAdapter.addCalendarYears(this._activeDate, -1) :\n                    this._dateAdapter.addCalendarMonths(this._activeDate, -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate = event.altKey ?\n                    this._dateAdapter.addCalendarYears(this._activeDate, 1) :\n                    this._dateAdapter.addCalendarMonths(this._activeDate, 1);\n                break;\n            case ENTER:\n            case SPACE:\n                if (!this.dateFilter || this.dateFilter(this._activeDate)) {\n                    this._dateSelected(this._dateAdapter.getDate(this._activeDate));\n                    this._userSelection.emit();\n                    // Prevent unexpected default actions such as form submission.\n                    event.preventDefault();\n                }\n                return;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n        if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n        this._focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n    /**\n     * Initializes this month view.\n     * @return {?}\n     */\n    _init() {\n        this._selectedDate = this._getDateInCurrentMonth(this.selected);\n        this._todayDate = this._getDateInCurrentMonth(this._dateAdapter.today());\n        this._monthLabel =\n            this._dateAdapter.getMonthNames('short')[this._dateAdapter.getMonth(this.activeDate)]\n                .toLocaleUpperCase();\n        /** @type {?} */\n        let firstOfMonth = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), this._dateAdapter.getMonth(this.activeDate), 1);\n        this._firstWeekOffset =\n            (DAYS_PER_WEEK + this._dateAdapter.getDayOfWeek(firstOfMonth) -\n                this._dateAdapter.getFirstDayOfWeek()) % DAYS_PER_WEEK;\n        this._createWeekCells();\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Focuses the active cell after the microtask queue is empty.\n     * @return {?}\n     */\n    _focusActiveCell() {\n        this._matCalendarBody._focusActiveCell();\n    }\n    /**\n     * Creates MatCalendarCells for the dates in this month.\n     * @private\n     * @return {?}\n     */\n    _createWeekCells() {\n        /** @type {?} */\n        const daysInMonth = this._dateAdapter.getNumDaysInMonth(this.activeDate);\n        /** @type {?} */\n        const dateNames = this._dateAdapter.getDateNames();\n        this._weeks = [[]];\n        for (let i = 0, cell = this._firstWeekOffset; i < daysInMonth; i++, cell++) {\n            if (cell == DAYS_PER_WEEK) {\n                this._weeks.push([]);\n                cell = 0;\n            }\n            /** @type {?} */\n            const date = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), this._dateAdapter.getMonth(this.activeDate), i + 1);\n            /** @type {?} */\n            const enabled = this._shouldEnableDate(date);\n            /** @type {?} */\n            const ariaLabel = this._dateAdapter.format(date, this._dateFormats.display.dateA11yLabel);\n            /** @type {?} */\n            const cellClasses = this.dateClass ? this.dateClass(date) : undefined;\n            this._weeks[this._weeks.length - 1]\n                .push(new MatCalendarCell(i + 1, dateNames[i], ariaLabel, enabled, cellClasses));\n        }\n    }\n    /**\n     * Date filter for the month\n     * @private\n     * @param {?} date\n     * @return {?}\n     */\n    _shouldEnableDate(date) {\n        return !!date &&\n            (!this.dateFilter || this.dateFilter(date)) &&\n            (!this.minDate || this._dateAdapter.compareDate(date, this.minDate) >= 0) &&\n            (!this.maxDate || this._dateAdapter.compareDate(date, this.maxDate) <= 0);\n    }\n    /**\n     * Gets the date in this month that the given Date falls on.\n     * Returns null if the given Date is in another month.\n     * @private\n     * @param {?} date\n     * @return {?}\n     */\n    _getDateInCurrentMonth(date) {\n        return date && this._hasSameMonthAndYear(date, this.activeDate) ?\n            this._dateAdapter.getDate(date) : null;\n    }\n    /**\n     * Checks whether the 2 dates are non-null and fall within the same month of the same year.\n     * @private\n     * @param {?} d1\n     * @param {?} d2\n     * @return {?}\n     */\n    _hasSameMonthAndYear(d1, d2) {\n        return !!(d1 && d2 && this._dateAdapter.getMonth(d1) == this._dateAdapter.getMonth(d2) &&\n            this._dateAdapter.getYear(d1) == this._dateAdapter.getYear(d2));\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n    /**\n     * Determines whether the user has the RTL layout direction.\n     * @private\n     * @return {?}\n     */\n    _isRtl() {\n        return this._dir && this._dir.value === 'rtl';\n    }\n}\nMatMonthView.decorators = [\n    { type: Component, args: [{selector: 'mat-month-view',\n                template: \"<table class=\\\"mat-calendar-table\\\"><thead class=\\\"mat-calendar-table-header\\\"><tr><th *ngFor=\\\"let day of _weekdays\\\" [attr.aria-label]=\\\"day.long\\\">{{day.narrow}}</th></tr><tr><th class=\\\"mat-calendar-table-header-divider\\\" colspan=\\\"7\\\" aria-hidden=\\\"true\\\"></th></tr></thead><tbody mat-calendar-body [label]=\\\"_monthLabel\\\" [rows]=\\\"_weeks\\\" [todayValue]=\\\"_todayDate\\\" [selectedValue]=\\\"_selectedDate\\\" [labelMinRequiredCells]=\\\"3\\\" [activeCell]=\\\"_dateAdapter.getDate(activeDate) - 1\\\" (selectedValueChange)=\\\"_dateSelected($event)\\\" (keydown)=\\\"_handleCalendarBodyKeydown($event)\\\"></tbody></table>\",\n                exportAs: 'matMonthView',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            },] },\n];\n/** @nocollapse */\nMatMonthView.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_DATE_FORMATS,] }] },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: Directionality, decorators: [{ type: Optional }] }\n];\nMatMonthView.propDecorators = {\n    activeDate: [{ type: Input }],\n    selected: [{ type: Input }],\n    minDate: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    dateFilter: [{ type: Input }],\n    dateClass: [{ type: Input }],\n    selectedChange: [{ type: Output }],\n    _userSelection: [{ type: Output }],\n    activeDateChange: [{ type: Output }],\n    _matCalendarBody: [{ type: ViewChild, args: [MatCalendarBody, { static: false },] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst yearsPerPage = 24;\n/** @type {?} */\nconst yearsPerRow = 4;\n/**\n * An internal component used to display a year selector in the datepicker.\n * \\@docs-private\n * @template D\n */\nclass MatMultiYearView {\n    /**\n     * @param {?} _changeDetectorRef\n     * @param {?} _dateAdapter\n     * @param {?=} _dir\n     */\n    constructor(_changeDetectorRef, _dateAdapter, _dir) {\n        this._changeDetectorRef = _changeDetectorRef;\n        this._dateAdapter = _dateAdapter;\n        this._dir = _dir;\n        /**\n         * Emits when a new year is selected.\n         */\n        this.selectedChange = new EventEmitter();\n        /**\n         * Emits the selected year. This doesn't imply a change on the selected date\n         */\n        this.yearSelected = new EventEmitter();\n        /**\n         * Emits when any date is activated.\n         */\n        this.activeDateChange = new EventEmitter();\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        this._activeDate = this._dateAdapter.today();\n    }\n    /**\n     * The date to display in this multi-year view (everything other than the year is ignored).\n     * @return {?}\n     */\n    get activeDate() { return this._activeDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set activeDate(value) {\n        /** @type {?} */\n        let oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const validDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n        this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n        if (Math.floor(this._dateAdapter.getYear(oldActiveDate) / yearsPerPage) !=\n            Math.floor(this._dateAdapter.getYear(this._activeDate) / yearsPerPage)) {\n            this._init();\n        }\n    }\n    /**\n     * The currently selected date.\n     * @return {?}\n     */\n    get selected() { return this._selected; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set selected(value) {\n        this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n        this._selectedYear = this._selected && this._dateAdapter.getYear(this._selected);\n    }\n    /**\n     * The minimum selectable date.\n     * @return {?}\n     */\n    get minDate() { return this._minDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set minDate(value) {\n        this._minDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The maximum selectable date.\n     * @return {?}\n     */\n    get maxDate() { return this._maxDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set maxDate(value) {\n        this._maxDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._init();\n    }\n    /**\n     * Initializes this multi-year view.\n     * @return {?}\n     */\n    _init() {\n        this._todayYear = this._dateAdapter.getYear(this._dateAdapter.today());\n        /** @type {?} */\n        let activeYear = this._dateAdapter.getYear(this._activeDate);\n        /** @type {?} */\n        let activeOffset = activeYear % yearsPerPage;\n        this._years = [];\n        for (let i = 0, row = []; i < yearsPerPage; i++) {\n            row.push(activeYear - activeOffset + i);\n            if (row.length == yearsPerRow) {\n                this._years.push(row.map((/**\n                 * @param {?} year\n                 * @return {?}\n                 */\n                year => this._createCellForYear(year))));\n                row = [];\n            }\n        }\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Handles when a new year is selected.\n     * @param {?} year\n     * @return {?}\n     */\n    _yearSelected(year) {\n        this.yearSelected.emit(this._dateAdapter.createDate(year, 0, 1));\n        /** @type {?} */\n        let month = this._dateAdapter.getMonth(this.activeDate);\n        /** @type {?} */\n        let daysInMonth = this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(year, month, 1));\n        this.selectedChange.emit(this._dateAdapter.createDate(year, month, Math.min(this._dateAdapter.getDate(this.activeDate), daysInMonth)));\n    }\n    /**\n     * Handles keydown events on the calendar body when calendar is in multi-year view.\n     * @param {?} event\n     * @return {?}\n     */\n    _handleCalendarBodyKeydown(event) {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        /** @type {?} */\n        const oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const isRtl = this._isRtl();\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, -yearsPerRow);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, yearsPerRow);\n                break;\n            case HOME:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, -this._dateAdapter.getYear(this._activeDate) % yearsPerPage);\n                break;\n            case END:\n                this.activeDate = this._dateAdapter.addCalendarYears(this._activeDate, yearsPerPage - this._dateAdapter.getYear(this._activeDate) % yearsPerPage - 1);\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -yearsPerPage * 10 : -yearsPerPage);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? yearsPerPage * 10 : yearsPerPage);\n                break;\n            case ENTER:\n            case SPACE:\n                this._yearSelected(this._dateAdapter.getYear(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n        if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n        this._focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n    /**\n     * @return {?}\n     */\n    _getActiveCell() {\n        return this._dateAdapter.getYear(this.activeDate) % yearsPerPage;\n    }\n    /**\n     * Focuses the active cell after the microtask queue is empty.\n     * @return {?}\n     */\n    _focusActiveCell() {\n        this._matCalendarBody._focusActiveCell();\n    }\n    /**\n     * Creates an MatCalendarCell for the given year.\n     * @private\n     * @param {?} year\n     * @return {?}\n     */\n    _createCellForYear(year) {\n        /** @type {?} */\n        let yearName = this._dateAdapter.getYearName(this._dateAdapter.createDate(year, 0, 1));\n        return new MatCalendarCell(year, yearName, yearName, this._shouldEnableYear(year));\n    }\n    /**\n     * Whether the given year is enabled.\n     * @private\n     * @param {?} year\n     * @return {?}\n     */\n    _shouldEnableYear(year) {\n        // disable if the year is greater than maxDate lower than minDate\n        if (year === undefined || year === null ||\n            (this.maxDate && year > this._dateAdapter.getYear(this.maxDate)) ||\n            (this.minDate && year < this._dateAdapter.getYear(this.minDate))) {\n            return false;\n        }\n        // enable if it reaches here and there's no filter defined\n        if (!this.dateFilter) {\n            return true;\n        }\n        /** @type {?} */\n        const firstOfYear = this._dateAdapter.createDate(year, 0, 1);\n        // If any date in the year is enabled count the year as enabled.\n        for (let date = firstOfYear; this._dateAdapter.getYear(date) == year; date = this._dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n    /**\n     * Determines whether the user has the RTL layout direction.\n     * @private\n     * @return {?}\n     */\n    _isRtl() {\n        return this._dir && this._dir.value === 'rtl';\n    }\n}\nMatMultiYearView.decorators = [\n    { type: Component, args: [{selector: 'mat-multi-year-view',\n                template: \"<table class=\\\"mat-calendar-table\\\"><thead class=\\\"mat-calendar-table-header\\\"><tr><th class=\\\"mat-calendar-table-header-divider\\\" colspan=\\\"4\\\"></th></tr></thead><tbody mat-calendar-body [rows]=\\\"_years\\\" [todayValue]=\\\"_todayYear\\\" [selectedValue]=\\\"_selectedYear\\\" [numCols]=\\\"4\\\" [cellAspectRatio]=\\\"4 / 7\\\" [activeCell]=\\\"_getActiveCell()\\\" (selectedValueChange)=\\\"_yearSelected($event)\\\" (keydown)=\\\"_handleCalendarBodyKeydown($event)\\\"></tbody></table>\",\n                exportAs: 'matMultiYearView',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            },] },\n];\n/** @nocollapse */\nMatMultiYearView.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: Directionality, decorators: [{ type: Optional }] }\n];\nMatMultiYearView.propDecorators = {\n    activeDate: [{ type: Input }],\n    selected: [{ type: Input }],\n    minDate: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    dateFilter: [{ type: Input }],\n    selectedChange: [{ type: Output }],\n    yearSelected: [{ type: Output }],\n    activeDateChange: [{ type: Output }],\n    _matCalendarBody: [{ type: ViewChild, args: [MatCalendarBody, { static: false },] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * An internal component used to display a single year in the datepicker.\n * \\@docs-private\n * @template D\n */\nclass MatYearView {\n    /**\n     * @param {?} _changeDetectorRef\n     * @param {?} _dateFormats\n     * @param {?} _dateAdapter\n     * @param {?=} _dir\n     */\n    constructor(_changeDetectorRef, _dateFormats, _dateAdapter, _dir) {\n        this._changeDetectorRef = _changeDetectorRef;\n        this._dateFormats = _dateFormats;\n        this._dateAdapter = _dateAdapter;\n        this._dir = _dir;\n        /**\n         * Emits when a new month is selected.\n         */\n        this.selectedChange = new EventEmitter();\n        /**\n         * Emits the selected month. This doesn't imply a change on the selected date\n         */\n        this.monthSelected = new EventEmitter();\n        /**\n         * Emits when any date is activated.\n         */\n        this.activeDateChange = new EventEmitter();\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n            throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n        this._activeDate = this._dateAdapter.today();\n    }\n    /**\n     * The date to display in this year view (everything other than the year is ignored).\n     * @return {?}\n     */\n    get activeDate() { return this._activeDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set activeDate(value) {\n        /** @type {?} */\n        let oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const validDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value)) || this._dateAdapter.today();\n        this._activeDate = this._dateAdapter.clampDate(validDate, this.minDate, this.maxDate);\n        if (this._dateAdapter.getYear(oldActiveDate) !== this._dateAdapter.getYear(this._activeDate)) {\n            this._init();\n        }\n    }\n    /**\n     * The currently selected date.\n     * @return {?}\n     */\n    get selected() { return this._selected; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set selected(value) {\n        this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n        this._selectedMonth = this._getMonthInCurrentYear(this._selected);\n    }\n    /**\n     * The minimum selectable date.\n     * @return {?}\n     */\n    get minDate() { return this._minDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set minDate(value) {\n        this._minDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The maximum selectable date.\n     * @return {?}\n     */\n    get maxDate() { return this._maxDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set maxDate(value) {\n        this._maxDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._init();\n    }\n    /**\n     * Handles when a new month is selected.\n     * @param {?} month\n     * @return {?}\n     */\n    _monthSelected(month) {\n        /** @type {?} */\n        const normalizedDate = this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1);\n        this.monthSelected.emit(normalizedDate);\n        /** @type {?} */\n        const daysInMonth = this._dateAdapter.getNumDaysInMonth(normalizedDate);\n        this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, Math.min(this._dateAdapter.getDate(this.activeDate), daysInMonth)));\n    }\n    /**\n     * Handles keydown events on the calendar body when calendar is in year view.\n     * @param {?} event\n     * @return {?}\n     */\n    _handleCalendarBodyKeydown(event) {\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        // TODO(mmalerba): We currently allow keyboard navigation to disabled dates, but just prevent\n        // disabled ones from being selected. This may not be ideal, we should look into whether\n        // navigation should skip over disabled dates, and if so, how to implement that efficiently.\n        /** @type {?} */\n        const oldActiveDate = this._activeDate;\n        /** @type {?} */\n        const isRtl = this._isRtl();\n        switch (event.keyCode) {\n            case LEFT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, isRtl ? 1 : -1);\n                break;\n            case RIGHT_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, isRtl ? -1 : 1);\n                break;\n            case UP_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, -4);\n                break;\n            case DOWN_ARROW:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, 4);\n                break;\n            case HOME:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, -this._dateAdapter.getMonth(this._activeDate));\n                break;\n            case END:\n                this.activeDate = this._dateAdapter.addCalendarMonths(this._activeDate, 11 - this._dateAdapter.getMonth(this._activeDate));\n                break;\n            case PAGE_UP:\n                this.activeDate =\n                    this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? -10 : -1);\n                break;\n            case PAGE_DOWN:\n                this.activeDate =\n                    this._dateAdapter.addCalendarYears(this._activeDate, event.altKey ? 10 : 1);\n                break;\n            case ENTER:\n            case SPACE:\n                this._monthSelected(this._dateAdapter.getMonth(this._activeDate));\n                break;\n            default:\n                // Don't prevent default or focus active cell on keys that we don't explicitly handle.\n                return;\n        }\n        if (this._dateAdapter.compareDate(oldActiveDate, this.activeDate)) {\n            this.activeDateChange.emit(this.activeDate);\n        }\n        this._focusActiveCell();\n        // Prevent unexpected default actions such as form submission.\n        event.preventDefault();\n    }\n    /**\n     * Initializes this year view.\n     * @return {?}\n     */\n    _init() {\n        this._selectedMonth = this._getMonthInCurrentYear(this.selected);\n        this._todayMonth = this._getMonthInCurrentYear(this._dateAdapter.today());\n        this._yearLabel = this._dateAdapter.getYearName(this.activeDate);\n        /** @type {?} */\n        let monthNames = this._dateAdapter.getMonthNames('short');\n        // First row of months only contains 5 elements so we can fit the year label on the same row.\n        this._months = [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]].map((/**\n         * @param {?} row\n         * @return {?}\n         */\n        row => row.map((/**\n         * @param {?} month\n         * @return {?}\n         */\n        month => this._createCellForMonth(month, monthNames[month])))));\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Focuses the active cell after the microtask queue is empty.\n     * @return {?}\n     */\n    _focusActiveCell() {\n        this._matCalendarBody._focusActiveCell();\n    }\n    /**\n     * Gets the month in this year that the given Date falls on.\n     * Returns null if the given Date is in another year.\n     * @private\n     * @param {?} date\n     * @return {?}\n     */\n    _getMonthInCurrentYear(date) {\n        return date && this._dateAdapter.getYear(date) == this._dateAdapter.getYear(this.activeDate) ?\n            this._dateAdapter.getMonth(date) : null;\n    }\n    /**\n     * Creates an MatCalendarCell for the given month.\n     * @private\n     * @param {?} month\n     * @param {?} monthName\n     * @return {?}\n     */\n    _createCellForMonth(month, monthName) {\n        /** @type {?} */\n        let ariaLabel = this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate), month, 1), this._dateFormats.display.monthYearA11yLabel);\n        return new MatCalendarCell(month, monthName.toLocaleUpperCase(), ariaLabel, this._shouldEnableMonth(month));\n    }\n    /**\n     * Whether the given month is enabled.\n     * @private\n     * @param {?} month\n     * @return {?}\n     */\n    _shouldEnableMonth(month) {\n        /** @type {?} */\n        const activeYear = this._dateAdapter.getYear(this.activeDate);\n        if (month === undefined || month === null ||\n            this._isYearAndMonthAfterMaxDate(activeYear, month) ||\n            this._isYearAndMonthBeforeMinDate(activeYear, month)) {\n            return false;\n        }\n        if (!this.dateFilter) {\n            return true;\n        }\n        /** @type {?} */\n        const firstOfMonth = this._dateAdapter.createDate(activeYear, month, 1);\n        // If any date in the month is enabled count the month as enabled.\n        for (let date = firstOfMonth; this._dateAdapter.getMonth(date) == month; date = this._dateAdapter.addCalendarDays(date, 1)) {\n            if (this.dateFilter(date)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     * Tests whether the combination month/year is after this.maxDate, considering\n     * just the month and year of this.maxDate\n     * @private\n     * @param {?} year\n     * @param {?} month\n     * @return {?}\n     */\n    _isYearAndMonthAfterMaxDate(year, month) {\n        if (this.maxDate) {\n            /** @type {?} */\n            const maxYear = this._dateAdapter.getYear(this.maxDate);\n            /** @type {?} */\n            const maxMonth = this._dateAdapter.getMonth(this.maxDate);\n            return year > maxYear || (year === maxYear && month > maxMonth);\n        }\n        return false;\n    }\n    /**\n     * Tests whether the combination month/year is before this.minDate, considering\n     * just the month and year of this.minDate\n     * @private\n     * @param {?} year\n     * @param {?} month\n     * @return {?}\n     */\n    _isYearAndMonthBeforeMinDate(year, month) {\n        if (this.minDate) {\n            /** @type {?} */\n            const minYear = this._dateAdapter.getYear(this.minDate);\n            /** @type {?} */\n            const minMonth = this._dateAdapter.getMonth(this.minDate);\n            return year < minYear || (year === minYear && month < minMonth);\n        }\n        return false;\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n    /**\n     * Determines whether the user has the RTL layout direction.\n     * @private\n     * @return {?}\n     */\n    _isRtl() {\n        return this._dir && this._dir.value === 'rtl';\n    }\n}\nMatYearView.decorators = [\n    { type: Component, args: [{selector: 'mat-year-view',\n                template: \"<table class=\\\"mat-calendar-table\\\"><thead class=\\\"mat-calendar-table-header\\\"><tr><th class=\\\"mat-calendar-table-header-divider\\\" colspan=\\\"4\\\"></th></tr></thead><tbody mat-calendar-body [label]=\\\"_yearLabel\\\" [rows]=\\\"_months\\\" [todayValue]=\\\"_todayMonth\\\" [selectedValue]=\\\"_selectedMonth\\\" [labelMinRequiredCells]=\\\"2\\\" [numCols]=\\\"4\\\" [cellAspectRatio]=\\\"4 / 7\\\" [activeCell]=\\\"_dateAdapter.getMonth(activeDate)\\\" (selectedValueChange)=\\\"_monthSelected($event)\\\" (keydown)=\\\"_handleCalendarBodyKeydown($event)\\\"></tbody></table>\",\n                exportAs: 'matYearView',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            },] },\n];\n/** @nocollapse */\nMatYearView.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_DATE_FORMATS,] }] },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: Directionality, decorators: [{ type: Optional }] }\n];\nMatYearView.propDecorators = {\n    activeDate: [{ type: Input }],\n    selected: [{ type: Input }],\n    minDate: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    dateFilter: [{ type: Input }],\n    selectedChange: [{ type: Output }],\n    monthSelected: [{ type: Output }],\n    activeDateChange: [{ type: Output }],\n    _matCalendarBody: [{ type: ViewChild, args: [MatCalendarBody, { static: false },] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Default header for MatCalendar\n * @template D\n */\nclass MatCalendarHeader {\n    /**\n     * @param {?} _intl\n     * @param {?} calendar\n     * @param {?} _dateAdapter\n     * @param {?} _dateFormats\n     * @param {?} changeDetectorRef\n     */\n    constructor(_intl, calendar, _dateAdapter, _dateFormats, changeDetectorRef) {\n        this._intl = _intl;\n        this.calendar = calendar;\n        this._dateAdapter = _dateAdapter;\n        this._dateFormats = _dateFormats;\n        this.calendar.stateChanges.subscribe((/**\n         * @return {?}\n         */\n        () => changeDetectorRef.markForCheck()));\n    }\n    /**\n     * The label for the current calendar view.\n     * @return {?}\n     */\n    get periodButtonText() {\n        if (this.calendar.currentView == 'month') {\n            return this._dateAdapter\n                .format(this.calendar.activeDate, this._dateFormats.display.monthYearLabel)\n                .toLocaleUpperCase();\n        }\n        if (this.calendar.currentView == 'year') {\n            return this._dateAdapter.getYearName(this.calendar.activeDate);\n        }\n        /** @type {?} */\n        const activeYear = this._dateAdapter.getYear(this.calendar.activeDate);\n        /** @type {?} */\n        const firstYearInView = this._dateAdapter.getYearName(this._dateAdapter.createDate(activeYear - activeYear % 24, 0, 1));\n        /** @type {?} */\n        const lastYearInView = this._dateAdapter.getYearName(this._dateAdapter.createDate(activeYear + yearsPerPage - 1 - activeYear % 24, 0, 1));\n        return `${firstYearInView} \\u2013 ${lastYearInView}`;\n    }\n    /**\n     * @return {?}\n     */\n    get periodButtonLabel() {\n        return this.calendar.currentView == 'month' ?\n            this._intl.switchToMultiYearViewLabel : this._intl.switchToMonthViewLabel;\n    }\n    /**\n     * The label for the previous button.\n     * @return {?}\n     */\n    get prevButtonLabel() {\n        return {\n            'month': this._intl.prevMonthLabel,\n            'year': this._intl.prevYearLabel,\n            'multi-year': this._intl.prevMultiYearLabel\n        }[this.calendar.currentView];\n    }\n    /**\n     * The label for the next button.\n     * @return {?}\n     */\n    get nextButtonLabel() {\n        return {\n            'month': this._intl.nextMonthLabel,\n            'year': this._intl.nextYearLabel,\n            'multi-year': this._intl.nextMultiYearLabel\n        }[this.calendar.currentView];\n    }\n    /**\n     * Handles user clicks on the period label.\n     * @return {?}\n     */\n    currentPeriodClicked() {\n        this.calendar.currentView = this.calendar.currentView == 'month' ? 'multi-year' : 'month';\n    }\n    /**\n     * Handles user clicks on the previous button.\n     * @return {?}\n     */\n    previousClicked() {\n        this.calendar.activeDate = this.calendar.currentView == 'month' ?\n            this._dateAdapter.addCalendarMonths(this.calendar.activeDate, -1) :\n            this._dateAdapter.addCalendarYears(this.calendar.activeDate, this.calendar.currentView == 'year' ? -1 : -yearsPerPage);\n    }\n    /**\n     * Handles user clicks on the next button.\n     * @return {?}\n     */\n    nextClicked() {\n        this.calendar.activeDate = this.calendar.currentView == 'month' ?\n            this._dateAdapter.addCalendarMonths(this.calendar.activeDate, 1) :\n            this._dateAdapter.addCalendarYears(this.calendar.activeDate, this.calendar.currentView == 'year' ? 1 : yearsPerPage);\n    }\n    /**\n     * Whether the previous period button is enabled.\n     * @return {?}\n     */\n    previousEnabled() {\n        if (!this.calendar.minDate) {\n            return true;\n        }\n        return !this.calendar.minDate ||\n            !this._isSameView(this.calendar.activeDate, this.calendar.minDate);\n    }\n    /**\n     * Whether the next period button is enabled.\n     * @return {?}\n     */\n    nextEnabled() {\n        return !this.calendar.maxDate ||\n            !this._isSameView(this.calendar.activeDate, this.calendar.maxDate);\n    }\n    /**\n     * Whether the two dates represent the same view in the current view mode (month or year).\n     * @private\n     * @param {?} date1\n     * @param {?} date2\n     * @return {?}\n     */\n    _isSameView(date1, date2) {\n        if (this.calendar.currentView == 'month') {\n            return this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2) &&\n                this._dateAdapter.getMonth(date1) == this._dateAdapter.getMonth(date2);\n        }\n        if (this.calendar.currentView == 'year') {\n            return this._dateAdapter.getYear(date1) == this._dateAdapter.getYear(date2);\n        }\n        // Otherwise we are in 'multi-year' view.\n        return Math.floor(this._dateAdapter.getYear(date1) / yearsPerPage) ==\n            Math.floor(this._dateAdapter.getYear(date2) / yearsPerPage);\n    }\n}\nMatCalendarHeader.decorators = [\n    { type: Component, args: [{selector: 'mat-calendar-header',\n                template: \"<div class=\\\"mat-calendar-header\\\"><div class=\\\"mat-calendar-controls\\\"><button mat-button type=\\\"button\\\" class=\\\"mat-calendar-period-button\\\" (click)=\\\"currentPeriodClicked()\\\" [attr.aria-label]=\\\"periodButtonLabel\\\" cdkAriaLive=\\\"polite\\\">{{periodButtonText}}<div class=\\\"mat-calendar-arrow\\\" [class.mat-calendar-invert]=\\\"calendar.currentView != 'month'\\\"></div></button><div class=\\\"mat-calendar-spacer\\\"></div><ng-content></ng-content><button mat-icon-button type=\\\"button\\\" class=\\\"mat-calendar-previous-button\\\" [disabled]=\\\"!previousEnabled()\\\" (click)=\\\"previousClicked()\\\" [attr.aria-label]=\\\"prevButtonLabel\\\"></button> <button mat-icon-button type=\\\"button\\\" class=\\\"mat-calendar-next-button\\\" [disabled]=\\\"!nextEnabled()\\\" (click)=\\\"nextClicked()\\\" [attr.aria-label]=\\\"nextButtonLabel\\\"></button></div></div>\",\n                exportAs: 'matCalendarHeader',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n            },] },\n];\n/** @nocollapse */\nMatCalendarHeader.ctorParameters = () => [\n    { type: MatDatepickerIntl },\n    { type: MatCalendar, decorators: [{ type: Inject, args: [forwardRef((/**\n                     * @return {?}\n                     */\n                    () => MatCalendar)),] }] },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_DATE_FORMATS,] }] },\n    { type: ChangeDetectorRef }\n];\n/**\n * A calendar that is used as part of the datepicker.\n * \\@docs-private\n * @template D\n */\nclass MatCalendar {\n    /**\n     * @param {?} _intl\n     * @param {?} _dateAdapter\n     * @param {?} _dateFormats\n     * @param {?} _changeDetectorRef\n     */\n    constructor(_intl, _dateAdapter, _dateFormats, _changeDetectorRef) {\n        this._dateAdapter = _dateAdapter;\n        this._dateFormats = _dateFormats;\n        this._changeDetectorRef = _changeDetectorRef;\n        /**\n         * Used for scheduling that focus should be moved to the active cell on the next tick.\n         * We need to schedule it, rather than do it immediately, because we have to wait\n         * for Angular to re-evaluate the view children.\n         */\n        this._moveFocusOnNextTick = false;\n        /**\n         * Whether the calendar should be started in month or year view.\n         */\n        this.startView = 'month';\n        /**\n         * Emits when the currently selected date changes.\n         */\n        this.selectedChange = new EventEmitter();\n        /**\n         * Emits the year chosen in multiyear view.\n         * This doesn't imply a change on the selected date.\n         */\n        this.yearSelected = new EventEmitter();\n        /**\n         * Emits the month chosen in year view.\n         * This doesn't imply a change on the selected date.\n         */\n        this.monthSelected = new EventEmitter();\n        /**\n         * Emits when any date is selected.\n         */\n        this._userSelection = new EventEmitter();\n        /**\n         * Emits whenever there is a state change that the header may need to respond to.\n         */\n        this.stateChanges = new Subject();\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n            throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n        this._intlChanges = _intl.changes.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            _changeDetectorRef.markForCheck();\n            this.stateChanges.next();\n        }));\n    }\n    /**\n     * A date representing the period (month or year) to start the calendar in.\n     * @return {?}\n     */\n    get startAt() { return this._startAt; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set startAt(value) {\n        this._startAt = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The currently selected date.\n     * @return {?}\n     */\n    get selected() { return this._selected; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set selected(value) {\n        this._selected = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The minimum selectable date.\n     * @return {?}\n     */\n    get minDate() { return this._minDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set minDate(value) {\n        this._minDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The maximum selectable date.\n     * @return {?}\n     */\n    get maxDate() { return this._maxDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set maxDate(value) {\n        this._maxDate = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * The current active date. This determines which time period is shown and which date is\n     * highlighted when using keyboard navigation.\n     * @return {?}\n     */\n    get activeDate() { return this._clampedActiveDate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set activeDate(value) {\n        this._clampedActiveDate = this._dateAdapter.clampDate(value, this.minDate, this.maxDate);\n        this.stateChanges.next();\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * Whether the calendar is in month view.\n     * @return {?}\n     */\n    get currentView() { return this._currentView; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set currentView(value) {\n        this._currentView = value;\n        this._moveFocusOnNextTick = true;\n        this._changeDetectorRef.markForCheck();\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._calendarHeaderPortal = new ComponentPortal(this.headerComponent || MatCalendarHeader);\n        this.activeDate = this.startAt || this._dateAdapter.today();\n        // Assign to the private property since we don't want to move focus on init.\n        this._currentView = this.startView;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewChecked() {\n        if (this._moveFocusOnNextTick) {\n            this._moveFocusOnNextTick = false;\n            this.focusActiveCell();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._intlChanges.unsubscribe();\n        this.stateChanges.complete();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        /** @type {?} */\n        const change = changes['minDate'] || changes['maxDate'] || changes['dateFilter'];\n        if (change && !change.firstChange) {\n            /** @type {?} */\n            const view = this._getCurrentViewComponent();\n            if (view) {\n                // We need to `detectChanges` manually here, because the `minDate`, `maxDate` etc. are\n                // passed down to the view via data bindings which won't be up-to-date when we call `_init`.\n                this._changeDetectorRef.detectChanges();\n                view._init();\n            }\n        }\n        this.stateChanges.next();\n    }\n    /**\n     * @return {?}\n     */\n    focusActiveCell() {\n        this._getCurrentViewComponent()._focusActiveCell();\n    }\n    /**\n     * Updates today's date after an update of the active date\n     * @return {?}\n     */\n    updateTodaysDate() {\n        /** @type {?} */\n        let view = this.currentView == 'month' ? this.monthView :\n            (this.currentView == 'year' ? this.yearView : this.multiYearView);\n        view.ngAfterContentInit();\n    }\n    /**\n     * Handles date selection in the month view.\n     * @param {?} date\n     * @return {?}\n     */\n    _dateSelected(date) {\n        if (!this._dateAdapter.sameDate(date, this.selected)) {\n            this.selectedChange.emit(date);\n        }\n    }\n    /**\n     * Handles year selection in the multiyear view.\n     * @param {?} normalizedYear\n     * @return {?}\n     */\n    _yearSelectedInMultiYearView(normalizedYear) {\n        this.yearSelected.emit(normalizedYear);\n    }\n    /**\n     * Handles month selection in the year view.\n     * @param {?} normalizedMonth\n     * @return {?}\n     */\n    _monthSelectedInYearView(normalizedMonth) {\n        this.monthSelected.emit(normalizedMonth);\n    }\n    /**\n     * @return {?}\n     */\n    _userSelected() {\n        this._userSelection.emit();\n    }\n    /**\n     * Handles year/month selection in the multi-year/year views.\n     * @param {?} date\n     * @param {?} view\n     * @return {?}\n     */\n    _goToDateInView(date, view) {\n        this.activeDate = date;\n        this.currentView = view;\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n    /**\n     * Returns the component instance that corresponds to the current calendar view.\n     * @private\n     * @return {?}\n     */\n    _getCurrentViewComponent() {\n        return this.monthView || this.yearView || this.multiYearView;\n    }\n}\nMatCalendar.decorators = [\n    { type: Component, args: [{selector: 'mat-calendar',\n                template: \"<ng-template [cdkPortalOutlet]=\\\"_calendarHeaderPortal\\\"></ng-template><div class=\\\"mat-calendar-content\\\" [ngSwitch]=\\\"currentView\\\" cdkMonitorSubtreeFocus tabindex=\\\"-1\\\"><mat-month-view *ngSwitchCase=\\\"'month'\\\" [(activeDate)]=\\\"activeDate\\\" [selected]=\\\"selected\\\" [dateFilter]=\\\"dateFilter\\\" [maxDate]=\\\"maxDate\\\" [minDate]=\\\"minDate\\\" [dateClass]=\\\"dateClass\\\" (selectedChange)=\\\"_dateSelected($event)\\\" (_userSelection)=\\\"_userSelected()\\\"></mat-month-view><mat-year-view *ngSwitchCase=\\\"'year'\\\" [(activeDate)]=\\\"activeDate\\\" [selected]=\\\"selected\\\" [dateFilter]=\\\"dateFilter\\\" [maxDate]=\\\"maxDate\\\" [minDate]=\\\"minDate\\\" (monthSelected)=\\\"_monthSelectedInYearView($event)\\\" (selectedChange)=\\\"_goToDateInView($event, 'month')\\\"></mat-year-view><mat-multi-year-view *ngSwitchCase=\\\"'multi-year'\\\" [(activeDate)]=\\\"activeDate\\\" [selected]=\\\"selected\\\" [dateFilter]=\\\"dateFilter\\\" [maxDate]=\\\"maxDate\\\" [minDate]=\\\"minDate\\\" (yearSelected)=\\\"_yearSelectedInMultiYearView($event)\\\" (selectedChange)=\\\"_goToDateInView($event, 'year')\\\"></mat-multi-year-view></div>\",\n                styles: [\".mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:0}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-next-button,.mat-calendar-previous-button{position:relative}.mat-calendar-next-button::after,.mat-calendar-previous-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:'';margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-next-button,[dir=rtl] .mat-calendar-previous-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:'';position:absolute;top:0;left:-8px;right:-8px;height:1px}\"],\n                host: {\n                    'class': 'mat-calendar',\n                },\n                exportAs: 'matCalendar',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n            },] },\n];\n/** @nocollapse */\nMatCalendar.ctorParameters = () => [\n    { type: MatDatepickerIntl },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_DATE_FORMATS,] }] },\n    { type: ChangeDetectorRef }\n];\nMatCalendar.propDecorators = {\n    headerComponent: [{ type: Input }],\n    startAt: [{ type: Input }],\n    startView: [{ type: Input }],\n    selected: [{ type: Input }],\n    minDate: [{ type: Input }],\n    maxDate: [{ type: Input }],\n    dateFilter: [{ type: Input }],\n    dateClass: [{ type: Input }],\n    selectedChange: [{ type: Output }],\n    yearSelected: [{ type: Output }],\n    monthSelected: [{ type: Output }],\n    _userSelection: [{ type: Output }],\n    monthView: [{ type: ViewChild, args: [MatMonthView, { static: false },] }],\n    yearView: [{ type: ViewChild, args: [MatYearView, { static: false },] }],\n    multiYearView: [{ type: ViewChild, args: [MatMultiYearView, { static: false },] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Animations used by the Material datepicker.\n * \\@docs-private\n * @type {?}\n */\nconst matDatepickerAnimations = {\n    /**\n     * Transforms the height of the datepicker's calendar.\n     */\n    transformPanel: trigger('transformPanel', [\n        state('void', style({\n            opacity: 0,\n            transform: 'scale(1, 0.8)'\n        })),\n        transition('void => enter', animate('120ms cubic-bezier(0, 0, 0.2, 1)', style({\n            opacity: 1,\n            transform: 'scale(1, 1)'\n        }))),\n        transition('* => void', animate('100ms linear', style({ opacity: 0 })))\n    ]),\n    /**\n     * Fades in the content of the calendar.\n     */\n    fadeInCalendar: trigger('fadeInCalendar', [\n        state('void', style({ opacity: 0 })),\n        state('enter', style({ opacity: 1 })),\n        // TODO(crisbeto): this animation should be removed since it isn't quite on spec, but we\n        // need to keep it until #12440 gets in, otherwise the exit animation will look glitchy.\n        transition('void => *', animate('120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)'))\n    ])\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Used to generate a unique ID for each datepicker instance.\n * @type {?}\n */\nlet datepickerUid = 0;\n/**\n * Injection token that determines the scroll handling while the calendar is open.\n * @type {?}\n */\nconst MAT_DATEPICKER_SCROLL_STRATEGY = new InjectionToken('mat-datepicker-scroll-strategy');\n/**\n * \\@docs-private\n * @param {?} overlay\n * @return {?}\n */\nfunction MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY(overlay) {\n    return (/**\n     * @return {?}\n     */\n    () => overlay.scrollStrategies.reposition());\n}\n/**\n * \\@docs-private\n * @type {?}\n */\nconst MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER = {\n    provide: MAT_DATEPICKER_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY,\n};\n// Boilerplate for applying mixins to MatDatepickerContent.\n/**\n * \\@docs-private\n */\nclass MatDatepickerContentBase {\n    /**\n     * @param {?} _elementRef\n     */\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n}\n/** @type {?} */\nconst _MatDatepickerContentMixinBase = mixinColor(MatDatepickerContentBase);\n/**\n * Component used as the content for the datepicker dialog and popup. We use this instead of using\n * MatCalendar directly as the content so we can control the initial focus. This also gives us a\n * place to put additional features of the popup that are not part of the calendar itself in the\n * future. (e.g. confirmation buttons).\n * \\@docs-private\n * @template D\n */\nclass MatDatepickerContent extends _MatDatepickerContentMixinBase {\n    /**\n     * @param {?} elementRef\n     */\n    constructor(elementRef) {\n        super(elementRef);\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this._calendar.focusActiveCell();\n    }\n}\nMatDatepickerContent.decorators = [\n    { type: Component, args: [{selector: 'mat-datepicker-content',\n                template: \"<mat-calendar cdkTrapFocus [id]=\\\"datepicker.id\\\" [ngClass]=\\\"datepicker.panelClass\\\" [startAt]=\\\"datepicker.startAt\\\" [startView]=\\\"datepicker.startView\\\" [minDate]=\\\"datepicker._minDate\\\" [maxDate]=\\\"datepicker._maxDate\\\" [dateFilter]=\\\"datepicker._dateFilter\\\" [headerComponent]=\\\"datepicker.calendarHeaderComponent\\\" [selected]=\\\"datepicker._selected\\\" [dateClass]=\\\"datepicker.dateClass\\\" [@fadeInCalendar]=\\\"'enter'\\\" (selectedChange)=\\\"datepicker.select($event)\\\" (yearSelected)=\\\"datepicker._selectYear($event)\\\" (monthSelected)=\\\"datepicker._selectMonth($event)\\\" (_userSelection)=\\\"datepicker.close()\\\"></mat-calendar>\",\n                styles: [\".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation:landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation:portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\"],\n                host: {\n                    'class': 'mat-datepicker-content',\n                    '[@transformPanel]': '\"enter\"',\n                    '[class.mat-datepicker-content-touch]': 'datepicker.touchUi',\n                },\n                animations: [\n                    matDatepickerAnimations.transformPanel,\n                    matDatepickerAnimations.fadeInCalendar,\n                ],\n                exportAs: 'matDatepickerContent',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                inputs: ['color'],\n            },] },\n];\n/** @nocollapse */\nMatDatepickerContent.ctorParameters = () => [\n    { type: ElementRef }\n];\nMatDatepickerContent.propDecorators = {\n    _calendar: [{ type: ViewChild, args: [MatCalendar, { static: false },] }]\n};\n// TODO(mmalerba): We use a component instead of a directive here so the user can use implicit\n// template reference variables (e.g. #d vs #d=\"matDatepicker\"). We can change this to a directive\n// if angular adds support for `exportAs: '$implicit'` on directives.\n/**\n * Component responsible for managing the datepicker popup/dialog.\n * @template D\n */\nclass MatDatepicker {\n    /**\n     * @param {?} _dialog\n     * @param {?} _overlay\n     * @param {?} _ngZone\n     * @param {?} _viewContainerRef\n     * @param {?} scrollStrategy\n     * @param {?} _dateAdapter\n     * @param {?} _dir\n     * @param {?} _document\n     */\n    constructor(_dialog, _overlay, _ngZone, _viewContainerRef, scrollStrategy, _dateAdapter, _dir, _document) {\n        this._dialog = _dialog;\n        this._overlay = _overlay;\n        this._ngZone = _ngZone;\n        this._viewContainerRef = _viewContainerRef;\n        this._dateAdapter = _dateAdapter;\n        this._dir = _dir;\n        this._document = _document;\n        /**\n         * The view that the calendar should start in.\n         */\n        this.startView = 'month';\n        this._touchUi = false;\n        /**\n         * Emits selected year in multiyear view.\n         * This doesn't imply a change on the selected date.\n         */\n        this.yearSelected = new EventEmitter();\n        /**\n         * Emits selected month in year view.\n         * This doesn't imply a change on the selected date.\n         */\n        this.monthSelected = new EventEmitter();\n        /**\n         * Emits when the datepicker has been opened.\n         */\n        this.openedStream = new EventEmitter();\n        /**\n         * Emits when the datepicker has been closed.\n         */\n        this.closedStream = new EventEmitter();\n        this._opened = false;\n        /**\n         * The id for the datepicker calendar.\n         */\n        this.id = `mat-datepicker-${datepickerUid++}`;\n        this._validSelected = null;\n        /**\n         * The element that was focused before the datepicker was opened.\n         */\n        this._focusedElementBeforeOpen = null;\n        /**\n         * Subscription to value changes in the associated input element.\n         */\n        this._inputSubscription = Subscription.EMPTY;\n        /**\n         * Emits when the datepicker is disabled.\n         */\n        this._disabledChange = new Subject();\n        /**\n         * Emits new selected date when selected date changes.\n         */\n        this._selectedChanged = new Subject();\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        this._scrollStrategy = scrollStrategy;\n    }\n    /**\n     * The date to open the calendar to initially.\n     * @return {?}\n     */\n    get startAt() {\n        // If an explicit startAt is set we start there, otherwise we start at whatever the currently\n        // selected value is.\n        return this._startAt || (this._datepickerInput ? this._datepickerInput.value : null);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set startAt(value) {\n        this._startAt = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n    }\n    /**\n     * Color palette to use on the datepicker's calendar.\n     * @return {?}\n     */\n    get color() {\n        return this._color ||\n            (this._datepickerInput ? this._datepickerInput._getThemePalette() : undefined);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set color(value) {\n        this._color = value;\n    }\n    /**\n     * Whether the calendar UI is in touch mode. In touch mode the calendar opens in a dialog rather\n     * than a popup and elements have more padding to allow for bigger touch targets.\n     * @return {?}\n     */\n    get touchUi() { return this._touchUi; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set touchUi(value) {\n        this._touchUi = coerceBooleanProperty(value);\n    }\n    /**\n     * Whether the datepicker pop-up should be disabled.\n     * @return {?}\n     */\n    get disabled() {\n        return this._disabled === undefined && this._datepickerInput ?\n            this._datepickerInput.disabled : !!this._disabled;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set disabled(value) {\n        /** @type {?} */\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this._disabled) {\n            this._disabled = newValue;\n            this._disabledChange.next(newValue);\n        }\n    }\n    /**\n     * Whether the calendar is open.\n     * @return {?}\n     */\n    get opened() { return this._opened; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set opened(value) { value ? this.open() : this.close(); }\n    /**\n     * The currently selected date.\n     * @return {?}\n     */\n    get _selected() { return this._validSelected; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set _selected(value) { this._validSelected = value; }\n    /**\n     * The minimum selectable date.\n     * @return {?}\n     */\n    get _minDate() {\n        return this._datepickerInput && this._datepickerInput.min;\n    }\n    /**\n     * The maximum selectable date.\n     * @return {?}\n     */\n    get _maxDate() {\n        return this._datepickerInput && this._datepickerInput.max;\n    }\n    /**\n     * @return {?}\n     */\n    get _dateFilter() {\n        return this._datepickerInput && this._datepickerInput._dateFilter;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.close();\n        this._inputSubscription.unsubscribe();\n        this._disabledChange.complete();\n        if (this._popupRef) {\n            this._popupRef.dispose();\n            this._popupComponentRef = null;\n        }\n    }\n    /**\n     * Selects the given date\n     * @param {?} date\n     * @return {?}\n     */\n    select(date) {\n        /** @type {?} */\n        let oldValue = this._selected;\n        this._selected = date;\n        if (!this._dateAdapter.sameDate(oldValue, this._selected)) {\n            this._selectedChanged.next(date);\n        }\n    }\n    /**\n     * Emits the selected year in multiyear view\n     * @param {?} normalizedYear\n     * @return {?}\n     */\n    _selectYear(normalizedYear) {\n        this.yearSelected.emit(normalizedYear);\n    }\n    /**\n     * Emits selected month in year view\n     * @param {?} normalizedMonth\n     * @return {?}\n     */\n    _selectMonth(normalizedMonth) {\n        this.monthSelected.emit(normalizedMonth);\n    }\n    /**\n     * Register an input with this datepicker.\n     * @param {?} input The datepicker input to register with this datepicker.\n     * @return {?}\n     */\n    _registerInput(input) {\n        if (this._datepickerInput) {\n            throw Error('A MatDatepicker can only be associated with a single input.');\n        }\n        this._datepickerInput = input;\n        this._inputSubscription =\n            this._datepickerInput._valueChange.subscribe((/**\n             * @param {?} value\n             * @return {?}\n             */\n            (value) => this._selected = value));\n    }\n    /**\n     * Open the calendar.\n     * @return {?}\n     */\n    open() {\n        if (this._opened || this.disabled) {\n            return;\n        }\n        if (!this._datepickerInput) {\n            throw Error('Attempted to open an MatDatepicker with no associated input.');\n        }\n        if (this._document) {\n            this._focusedElementBeforeOpen = this._document.activeElement;\n        }\n        this.touchUi ? this._openAsDialog() : this._openAsPopup();\n        this._opened = true;\n        this.openedStream.emit();\n    }\n    /**\n     * Close the calendar.\n     * @return {?}\n     */\n    close() {\n        if (!this._opened) {\n            return;\n        }\n        if (this._popupRef && this._popupRef.hasAttached()) {\n            this._popupRef.detach();\n        }\n        if (this._dialogRef) {\n            this._dialogRef.close();\n            this._dialogRef = null;\n        }\n        if (this._calendarPortal && this._calendarPortal.isAttached) {\n            this._calendarPortal.detach();\n        }\n        /** @type {?} */\n        const completeClose = (/**\n         * @return {?}\n         */\n        () => {\n            // The `_opened` could've been reset already if\n            // we got two events in quick succession.\n            if (this._opened) {\n                this._opened = false;\n                this.closedStream.emit();\n                this._focusedElementBeforeOpen = null;\n            }\n        });\n        if (this._focusedElementBeforeOpen &&\n            typeof this._focusedElementBeforeOpen.focus === 'function') {\n            // Because IE moves focus asynchronously, we can't count on it being restored before we've\n            // marked the datepicker as closed. If the event fires out of sequence and the element that\n            // we're refocusing opens the datepicker on focus, the user could be stuck with not being\n            // able to close the calendar at all. We work around it by making the logic, that marks\n            // the datepicker as closed, async as well.\n            this._focusedElementBeforeOpen.focus();\n            setTimeout(completeClose);\n        }\n        else {\n            completeClose();\n        }\n    }\n    /**\n     * Open the calendar as a dialog.\n     * @private\n     * @return {?}\n     */\n    _openAsDialog() {\n        // Usually this would be handled by `open` which ensures that we can only have one overlay\n        // open at a time, however since we reset the variables in async handlers some overlays\n        // may slip through if the user opens and closes multiple times in quick succession (e.g.\n        // by holding down the enter key).\n        if (this._dialogRef) {\n            this._dialogRef.close();\n        }\n        this._dialogRef = this._dialog.open(MatDatepickerContent, {\n            direction: this._dir ? this._dir.value : 'ltr',\n            viewContainerRef: this._viewContainerRef,\n            panelClass: 'mat-datepicker-dialog',\n        });\n        this._dialogRef.afterClosed().subscribe((/**\n         * @return {?}\n         */\n        () => this.close()));\n        this._dialogRef.componentInstance.datepicker = this;\n        this._setColor();\n    }\n    /**\n     * Open the calendar as a popup.\n     * @private\n     * @return {?}\n     */\n    _openAsPopup() {\n        if (!this._calendarPortal) {\n            this._calendarPortal = new ComponentPortal(MatDatepickerContent, this._viewContainerRef);\n        }\n        if (!this._popupRef) {\n            this._createPopup();\n        }\n        if (!this._popupRef.hasAttached()) {\n            this._popupComponentRef = this._popupRef.attach(this._calendarPortal);\n            this._popupComponentRef.instance.datepicker = this;\n            this._setColor();\n            // Update the position once the calendar has rendered.\n            this._ngZone.onStable.asObservable().pipe(take(1)).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this._popupRef.updatePosition();\n            }));\n        }\n    }\n    /**\n     * Create the popup.\n     * @private\n     * @return {?}\n     */\n    _createPopup() {\n        /** @type {?} */\n        const overlayConfig = new OverlayConfig({\n            positionStrategy: this._createPopupPositionStrategy(),\n            hasBackdrop: true,\n            backdropClass: 'mat-overlay-transparent-backdrop',\n            direction: this._dir,\n            scrollStrategy: this._scrollStrategy(),\n            panelClass: 'mat-datepicker-popup',\n        });\n        this._popupRef = this._overlay.create(overlayConfig);\n        this._popupRef.overlayElement.setAttribute('role', 'dialog');\n        merge(this._popupRef.backdropClick(), this._popupRef.detachments(), this._popupRef.keydownEvents().pipe(filter((/**\n         * @param {?} event\n         * @return {?}\n         */\n        event => {\n            // Closing on alt + up is only valid when there's an input associated with the datepicker.\n            return event.keyCode === ESCAPE ||\n                (this._datepickerInput && event.altKey && event.keyCode === UP_ARROW);\n        })))).subscribe((/**\n         * @return {?}\n         */\n        () => this.close()));\n    }\n    /**\n     * Create the popup PositionStrategy.\n     * @private\n     * @return {?}\n     */\n    _createPopupPositionStrategy() {\n        return this._overlay.position()\n            .flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin())\n            .withTransformOriginOn('.mat-datepicker-content')\n            .withFlexibleDimensions(false)\n            .withViewportMargin(8)\n            .withLockedPosition()\n            .withPositions([\n            {\n                originX: 'start',\n                originY: 'bottom',\n                overlayX: 'start',\n                overlayY: 'top'\n            },\n            {\n                originX: 'start',\n                originY: 'top',\n                overlayX: 'start',\n                overlayY: 'bottom'\n            },\n            {\n                originX: 'end',\n                originY: 'bottom',\n                overlayX: 'end',\n                overlayY: 'top'\n            },\n            {\n                originX: 'end',\n                originY: 'top',\n                overlayX: 'end',\n                overlayY: 'bottom'\n            }\n        ]);\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n    /**\n     * Passes the current theme color along to the calendar overlay.\n     * @private\n     * @return {?}\n     */\n    _setColor() {\n        /** @type {?} */\n        const color = this.color;\n        if (this._popupComponentRef) {\n            this._popupComponentRef.instance.color = color;\n        }\n        if (this._dialogRef) {\n            this._dialogRef.componentInstance.color = color;\n        }\n    }\n}\nMatDatepicker.decorators = [\n    { type: Component, args: [{selector: 'mat-datepicker',\n                template: '',\n                exportAs: 'matDatepicker',\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                encapsulation: ViewEncapsulation.None,\n            },] },\n];\n/** @nocollapse */\nMatDatepicker.ctorParameters = () => [\n    { type: MatDialog },\n    { type: Overlay },\n    { type: NgZone },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_DATEPICKER_SCROLL_STRATEGY,] }] },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: Directionality, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] }\n];\nMatDatepicker.propDecorators = {\n    calendarHeaderComponent: [{ type: Input }],\n    startAt: [{ type: Input }],\n    startView: [{ type: Input }],\n    color: [{ type: Input }],\n    touchUi: [{ type: Input }],\n    disabled: [{ type: Input }],\n    yearSelected: [{ type: Output }],\n    monthSelected: [{ type: Output }],\n    panelClass: [{ type: Input }],\n    dateClass: [{ type: Input }],\n    openedStream: [{ type: Output, args: ['opened',] }],\n    closedStream: [{ type: Output, args: ['closed',] }],\n    opened: [{ type: Input }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * \\@docs-private\n * @type {?}\n */\nconst MAT_DATEPICKER_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatDatepickerInput)),\n    multi: true\n};\n/**\n * \\@docs-private\n * @type {?}\n */\nconst MAT_DATEPICKER_VALIDATORS = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatDatepickerInput)),\n    multi: true\n};\n/**\n * An event used for datepicker input and change events. We don't always have access to a native\n * input or change event because the event may have been triggered by the user clicking on the\n * calendar popup. For consistency, we always use MatDatepickerInputEvent instead.\n * @template D\n */\nclass MatDatepickerInputEvent {\n    /**\n     * @param {?} target\n     * @param {?} targetElement\n     */\n    constructor(target, targetElement) {\n        this.target = target;\n        this.targetElement = targetElement;\n        this.value = this.target.value;\n    }\n}\n/**\n * Directive used to connect an input to a MatDatepicker.\n * @template D\n */\nclass MatDatepickerInput {\n    /**\n     * @param {?} _elementRef\n     * @param {?} _dateAdapter\n     * @param {?} _dateFormats\n     * @param {?} _formField\n     */\n    constructor(_elementRef, _dateAdapter, _dateFormats, _formField) {\n        this._elementRef = _elementRef;\n        this._dateAdapter = _dateAdapter;\n        this._dateFormats = _dateFormats;\n        this._formField = _formField;\n        /**\n         * Emits when a `change` event is fired on this `<input>`.\n         */\n        this.dateChange = new EventEmitter();\n        /**\n         * Emits when an `input` event is fired on this `<input>`.\n         */\n        this.dateInput = new EventEmitter();\n        /**\n         * Emits when the value changes (either due to user input or programmatic change).\n         */\n        this._valueChange = new EventEmitter();\n        /**\n         * Emits when the disabled state has changed\n         */\n        this._disabledChange = new EventEmitter();\n        this._onTouched = (/**\n         * @return {?}\n         */\n        () => { });\n        this._cvaOnChange = (/**\n         * @return {?}\n         */\n        () => { });\n        this._validatorOnChange = (/**\n         * @return {?}\n         */\n        () => { });\n        this._datepickerSubscription = Subscription.EMPTY;\n        this._localeSubscription = Subscription.EMPTY;\n        /**\n         * The form control validator for whether the input parses.\n         */\n        this._parseValidator = (/**\n         * @return {?}\n         */\n        () => {\n            return this._lastValueValid ?\n                null : { 'matDatepickerParse': { 'text': this._elementRef.nativeElement.value } };\n        });\n        /**\n         * The form control validator for the min date.\n         */\n        this._minValidator = (/**\n         * @param {?} control\n         * @return {?}\n         */\n        (control) => {\n            /** @type {?} */\n            const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n            return (!this.min || !controlValue ||\n                this._dateAdapter.compareDate(this.min, controlValue) <= 0) ?\n                null : { 'matDatepickerMin': { 'min': this.min, 'actual': controlValue } };\n        });\n        /**\n         * The form control validator for the max date.\n         */\n        this._maxValidator = (/**\n         * @param {?} control\n         * @return {?}\n         */\n        (control) => {\n            /** @type {?} */\n            const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n            return (!this.max || !controlValue ||\n                this._dateAdapter.compareDate(this.max, controlValue) >= 0) ?\n                null : { 'matDatepickerMax': { 'max': this.max, 'actual': controlValue } };\n        });\n        /**\n         * The form control validator for the date filter.\n         */\n        this._filterValidator = (/**\n         * @param {?} control\n         * @return {?}\n         */\n        (control) => {\n            /** @type {?} */\n            const controlValue = this._getValidDateOrNull(this._dateAdapter.deserialize(control.value));\n            return !this._dateFilter || !controlValue || this._dateFilter(controlValue) ?\n                null : { 'matDatepickerFilter': true };\n        });\n        /**\n         * The combined form control validator for this input.\n         */\n        this._validator = Validators.compose([this._parseValidator, this._minValidator, this._maxValidator, this._filterValidator]);\n        /**\n         * Whether the last value set on the input was valid.\n         */\n        this._lastValueValid = false;\n        if (!this._dateAdapter) {\n            throw createMissingDateImplError('DateAdapter');\n        }\n        if (!this._dateFormats) {\n            throw createMissingDateImplError('MAT_DATE_FORMATS');\n        }\n        // Update the displayed date when the locale changes.\n        this._localeSubscription = _dateAdapter.localeChanges.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this.value = this.value;\n        }));\n    }\n    /**\n     * The datepicker that this input is associated with.\n     * @param {?} value\n     * @return {?}\n     */\n    set matDatepicker(value) {\n        if (!value) {\n            return;\n        }\n        this._datepicker = value;\n        this._datepicker._registerInput(this);\n        this._datepickerSubscription.unsubscribe();\n        this._datepickerSubscription = this._datepicker._selectedChanged.subscribe((/**\n         * @param {?} selected\n         * @return {?}\n         */\n        (selected) => {\n            this.value = selected;\n            this._cvaOnChange(selected);\n            this._onTouched();\n            this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n            this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n        }));\n    }\n    /**\n     * Function that can be used to filter out dates within the datepicker.\n     * @param {?} value\n     * @return {?}\n     */\n    set matDatepickerFilter(value) {\n        this._dateFilter = value;\n        this._validatorOnChange();\n    }\n    /**\n     * The value of the input.\n     * @return {?}\n     */\n    get value() { return this._value; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set value(value) {\n        value = this._dateAdapter.deserialize(value);\n        this._lastValueValid = !value || this._dateAdapter.isValid(value);\n        value = this._getValidDateOrNull(value);\n        /** @type {?} */\n        const oldDate = this.value;\n        this._value = value;\n        this._formatValue(value);\n        if (!this._dateAdapter.sameDate(oldDate, value)) {\n            this._valueChange.emit(value);\n        }\n    }\n    /**\n     * The minimum valid date.\n     * @return {?}\n     */\n    get min() { return this._min; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set min(value) {\n        this._min = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n        this._validatorOnChange();\n    }\n    /**\n     * The maximum valid date.\n     * @return {?}\n     */\n    get max() { return this._max; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set max(value) {\n        this._max = this._getValidDateOrNull(this._dateAdapter.deserialize(value));\n        this._validatorOnChange();\n    }\n    /**\n     * Whether the datepicker-input is disabled.\n     * @return {?}\n     */\n    get disabled() { return !!this._disabled; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set disabled(value) {\n        /** @type {?} */\n        const newValue = coerceBooleanProperty(value);\n        /** @type {?} */\n        const element = this._elementRef.nativeElement;\n        if (this._disabled !== newValue) {\n            this._disabled = newValue;\n            this._disabledChange.emit(newValue);\n        }\n        // We need to null check the `blur` method, because it's undefined during SSR.\n        if (newValue && element.blur) {\n            // Normally, native input elements automatically blur if they turn disabled. This behavior\n            // is problematic, because it would mean that it triggers another change detection cycle,\n            // which then causes a changed after checked error if the input element was focused before.\n            element.blur();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._datepickerSubscription.unsubscribe();\n        this._localeSubscription.unsubscribe();\n        this._valueChange.complete();\n        this._disabledChange.complete();\n    }\n    /**\n     * \\@docs-private\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnValidatorChange(fn) {\n        this._validatorOnChange = fn;\n    }\n    /**\n     * \\@docs-private\n     * @param {?} c\n     * @return {?}\n     */\n    validate(c) {\n        return this._validator ? this._validator(c) : null;\n    }\n    /**\n     * @deprecated\n     * \\@breaking-change 8.0.0 Use `getConnectedOverlayOrigin` instead\n     * @return {?}\n     */\n    getPopupConnectionElementRef() {\n        return this.getConnectedOverlayOrigin();\n    }\n    /**\n     * Gets the element that the datepicker popup should be connected to.\n     * @return {?} The element to connect the popup to.\n     */\n    getConnectedOverlayOrigin() {\n        return this._formField ? this._formField.getConnectedOverlayOrigin() : this._elementRef;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        this.value = value;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this._cvaOnChange = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    _onKeydown(event) {\n        /** @type {?} */\n        const isAltDownArrow = event.altKey && event.keyCode === DOWN_ARROW;\n        if (this._datepicker && isAltDownArrow && !this._elementRef.nativeElement.readOnly) {\n            this._datepicker.open();\n            event.preventDefault();\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    _onInput(value) {\n        /** @type {?} */\n        let date = this._dateAdapter.parse(value, this._dateFormats.parse.dateInput);\n        this._lastValueValid = !date || this._dateAdapter.isValid(date);\n        date = this._getValidDateOrNull(date);\n        if (!this._dateAdapter.sameDate(date, this._value)) {\n            this._value = date;\n            this._cvaOnChange(date);\n            this._valueChange.emit(date);\n            this.dateInput.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n        }\n        else {\n            this._validatorOnChange();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _onChange() {\n        this.dateChange.emit(new MatDatepickerInputEvent(this, this._elementRef.nativeElement));\n    }\n    /**\n     * Returns the palette used by the input's form field, if any.\n     * @return {?}\n     */\n    _getThemePalette() {\n        return this._formField ? this._formField.color : undefined;\n    }\n    /**\n     * Handles blur events on the input.\n     * @return {?}\n     */\n    _onBlur() {\n        // Reformat the input only if we have a valid value.\n        if (this.value) {\n            this._formatValue(this.value);\n        }\n        this._onTouched();\n    }\n    /**\n     * Formats a value and sets it on the input element.\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    _formatValue(value) {\n        this._elementRef.nativeElement.value =\n            value ? this._dateAdapter.format(value, this._dateFormats.display.dateInput) : '';\n    }\n    /**\n     * @private\n     * @param {?} obj The object to check.\n     * @return {?} The given object if it is both a date instance and valid, otherwise null.\n     */\n    _getValidDateOrNull(obj) {\n        return (this._dateAdapter.isDateInstance(obj) && this._dateAdapter.isValid(obj)) ? obj : null;\n    }\n}\nMatDatepickerInput.decorators = [\n    { type: Directive, args: [{\n                selector: 'input[matDatepicker]',\n                providers: [\n                    MAT_DATEPICKER_VALUE_ACCESSOR,\n                    MAT_DATEPICKER_VALIDATORS,\n                    { provide: MAT_INPUT_VALUE_ACCESSOR, useExisting: MatDatepickerInput },\n                ],\n                host: {\n                    '[attr.aria-haspopup]': 'true',\n                    '[attr.aria-owns]': '(_datepicker?.opened && _datepicker.id) || null',\n                    '[attr.min]': 'min ? _dateAdapter.toIso8601(min) : null',\n                    '[attr.max]': 'max ? _dateAdapter.toIso8601(max) : null',\n                    '[disabled]': 'disabled',\n                    '(input)': '_onInput($event.target.value)',\n                    '(change)': '_onChange()',\n                    '(blur)': '_onBlur()',\n                    '(keydown)': '_onKeydown($event)',\n                },\n                exportAs: 'matDatepickerInput',\n            },] },\n];\n/** @nocollapse */\nMatDatepickerInput.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DateAdapter, decorators: [{ type: Optional }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_DATE_FORMATS,] }] },\n    { type: MatFormField, decorators: [{ type: Optional }] }\n];\nMatDatepickerInput.propDecorators = {\n    matDatepicker: [{ type: Input }],\n    matDatepickerFilter: [{ type: Input }],\n    value: [{ type: Input }],\n    min: [{ type: Input }],\n    max: [{ type: Input }],\n    disabled: [{ type: Input }],\n    dateChange: [{ type: Output }],\n    dateInput: [{ type: Output }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Can be used to override the icon of a `matDatepickerToggle`.\n */\nclass MatDatepickerToggleIcon {\n}\nMatDatepickerToggleIcon.decorators = [\n    { type: Directive, args: [{\n                selector: '[matDatepickerToggleIcon]'\n            },] },\n];\n/**\n * @template D\n */\nclass MatDatepickerToggle {\n    /**\n     * @param {?} _intl\n     * @param {?} _changeDetectorRef\n     * @param {?} defaultTabIndex\n     */\n    constructor(_intl, _changeDetectorRef, defaultTabIndex) {\n        this._intl = _intl;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._stateChanges = Subscription.EMPTY;\n        /** @type {?} */\n        const parsedTabIndex = Number(defaultTabIndex);\n        this.tabIndex = (parsedTabIndex || parsedTabIndex === 0) ? parsedTabIndex : null;\n    }\n    /**\n     * Whether the toggle button is disabled.\n     * @return {?}\n     */\n    get disabled() {\n        if (this._disabled === undefined && this.datepicker) {\n            return this.datepicker.disabled;\n        }\n        return !!this._disabled;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set disabled(value) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes['datepicker']) {\n            this._watchStateChanges();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._stateChanges.unsubscribe();\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._watchStateChanges();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    _open(event) {\n        if (this.datepicker && !this.disabled) {\n            this.datepicker.open();\n            event.stopPropagation();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _watchStateChanges() {\n        /** @type {?} */\n        const datepickerDisabled = this.datepicker ? this.datepicker._disabledChange : of();\n        /** @type {?} */\n        const inputDisabled = this.datepicker && this.datepicker._datepickerInput ?\n            this.datepicker._datepickerInput._disabledChange : of();\n        /** @type {?} */\n        const datepickerToggled = this.datepicker ?\n            merge(this.datepicker.openedStream, this.datepicker.closedStream) :\n            of();\n        this._stateChanges.unsubscribe();\n        this._stateChanges = merge(this._intl.changes, datepickerDisabled, inputDisabled, datepickerToggled).subscribe((/**\n         * @return {?}\n         */\n        () => this._changeDetectorRef.markForCheck()));\n    }\n}\nMatDatepickerToggle.decorators = [\n    { type: Component, args: [{selector: 'mat-datepicker-toggle',\n                template: \"<button #button mat-icon-button type=\\\"button\\\" aria-haspopup=\\\"true\\\" [attr.aria-label]=\\\"_intl.openCalendarLabel\\\" [attr.tabindex]=\\\"disabled ? -1 : tabIndex\\\" [disabled]=\\\"disabled\\\" [disableRipple]=\\\"disableRipple\\\" (click)=\\\"_open($event)\\\"><svg *ngIf=\\\"!_customIcon\\\" class=\\\"mat-datepicker-toggle-default-icon\\\" viewBox=\\\"0 0 24 24\\\" width=\\\"24px\\\" height=\\\"24px\\\" fill=\\\"currentColor\\\" focusable=\\\"false\\\"><path d=\\\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\\\"/></svg><ng-content select=\\\"[matDatepickerToggleIcon]\\\"></ng-content></button>\",\n                styles: [\".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\"],\n                host: {\n                    'class': 'mat-datepicker-toggle',\n                    // Always set the tabindex to -1 so that it doesn't overlap with any custom tabindex the\n                    // consumer may have provided, while still being able to receive focus.\n                    '[attr.tabindex]': '-1',\n                    '[class.mat-datepicker-toggle-active]': 'datepicker && datepicker.opened',\n                    '[class.mat-accent]': 'datepicker && datepicker.color === \"accent\"',\n                    '[class.mat-warn]': 'datepicker && datepicker.color === \"warn\"',\n                    '(focus)': '_button.focus()',\n                },\n                exportAs: 'matDatepickerToggle',\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n            },] },\n];\n/** @nocollapse */\nMatDatepickerToggle.ctorParameters = () => [\n    { type: MatDatepickerIntl },\n    { type: ChangeDetectorRef },\n    { type: String, decorators: [{ type: Attribute, args: ['tabindex',] }] }\n];\nMatDatepickerToggle.propDecorators = {\n    datepicker: [{ type: Input, args: ['for',] }],\n    tabIndex: [{ type: Input }],\n    disabled: [{ type: Input }],\n    disableRipple: [{ type: Input }],\n    _customIcon: [{ type: ContentChild, args: [MatDatepickerToggleIcon, { static: false },] }],\n    _button: [{ type: ViewChild, args: ['button', { static: false },] }]\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass MatDatepickerModule {\n}\nMatDatepickerModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [\n                    CommonModule,\n                    MatButtonModule,\n                    MatDialogModule,\n                    OverlayModule,\n                    A11yModule,\n                    PortalModule,\n                ],\n                exports: [\n                    MatCalendar,\n                    MatCalendarBody,\n                    MatDatepicker,\n                    MatDatepickerContent,\n                    MatDatepickerInput,\n                    MatDatepickerToggle,\n                    MatDatepickerToggleIcon,\n                    MatMonthView,\n                    MatYearView,\n                    MatMultiYearView,\n                    MatCalendarHeader,\n                ],\n                declarations: [\n                    MatCalendar,\n                    MatCalendarBody,\n                    MatDatepicker,\n                    MatDatepickerContent,\n                    MatDatepickerInput,\n                    MatDatepickerToggle,\n                    MatDatepickerToggleIcon,\n                    MatMonthView,\n                    MatYearView,\n                    MatMultiYearView,\n                    MatCalendarHeader,\n                ],\n                providers: [\n                    MatDatepickerIntl,\n                    MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER,\n                ],\n                entryComponents: [\n                    MatDatepickerContent,\n                    MatCalendarHeader,\n                ]\n            },] },\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { MatDatepickerModule, MatCalendarHeader, MatCalendar, MatCalendarCell, MatCalendarBody, MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY, MAT_DATEPICKER_SCROLL_STRATEGY, MAT_DATEPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER, MatDatepickerContent, MatDatepicker, matDatepickerAnimations, MAT_DATEPICKER_VALUE_ACCESSOR, MAT_DATEPICKER_VALIDATORS, MatDatepickerInputEvent, MatDatepickerInput, MatDatepickerIntl, MatDatepickerToggleIcon, MatDatepickerToggle, MatMonthView, MatYearView, MatMultiYearView as Éµa34 };\n//# sourceMappingURL=datepicker.js.map\n","import { NgModule } from '@angular/core';\n\nimport { MAT_DATE_FORMATS, MAT_DATE_LOCALE, MatDateFormats, MatNativeDateModule } from '@angular/material/core';\nimport {MatDatepickerModule  } from '@angular/material/datepicker';\n\n\nconst MODULE_EXPORTS = [MatDatepickerModule, MatNativeDateModule];\n\nconst DATE_FORMATS: MatDateFormats = {\n  parse: {\n    dateInput: 'LL',\n  },\n  display: {\n    dateInput: 'LL',\n    monthYearLabel: 'MMM YYYY',\n    dateA11yLabel: 'LL',\n    monthYearA11yLabel: 'MMMM YYYY',\n  },\n};\n\n@NgModule({\n  exports: MODULE_EXPORTS,\n  providers: [{ provide: MAT_DATE_FORMATS, useValue: DATE_FORMATS }, { provide: MAT_DATE_LOCALE, useValue: 'en-GB' }],\n})\nexport class SharedMaterialDateModule {}\n","import { MatDateFormats, MatNativeDateModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nconst MODULE_EXPORTS = [MatDatepickerModule, MatNativeDateModule];\nconst DATE_FORMATS = {\n    parse: {\n        dateInput: 'LL',\n    },\n    display: {\n        dateInput: 'LL',\n        monthYearLabel: 'MMM YYYY',\n        dateA11yLabel: 'LL',\n        monthYearA11yLabel: 'MMMM YYYY',\n    },\n};\nconst Éµ0 = DATE_FORMATS;\nexport class SharedMaterialDateModule {\n}\nexport { Éµ0 };\n","import { Subscriber } from '../Subscriber';\nexport function retry(count = -1) {\n    return (source) => source.lift(new RetryOperator(count, source));\n}\nclass RetryOperator {\n    constructor(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    }\n}\nclass RetrySubscriber extends Subscriber {\n    constructor(destination, count, source) {\n        super(destination);\n        this.count = count;\n        this.source = source;\n    }\n    error(err) {\n        if (!this.isStopped) {\n            const { source, count } = this;\n            if (count === 0) {\n                return super.error(err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    }\n}\n//# sourceMappingURL=retry.js.map"],"sourceRoot":""}